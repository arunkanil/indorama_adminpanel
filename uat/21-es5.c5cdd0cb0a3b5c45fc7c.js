!function(){function t(t){return function(t){if(Array.isArray(t))return e(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,i){if(!t)return;if("string"==typeof t)return e(t,i);var a=Object.prototype.toString.call(t).slice(8,-1);"Object"===a&&t.constructor&&(a=t.constructor.name);if("Map"===a||"Set"===a)return Array.from(t);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return e(t,i)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function e(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,a=new Array(e);i<e;i++)a[i]=t[i];return a}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){for(var i=0;i<e.length;i++){var a=e[i];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}function o(t,e,i){return e&&a(t.prototype,e),i&&a(t,i),t}(window.webpackJsonp=window.webpackJsonp||[]).push([[21],{d3Ph:function(e,a,r){"use strict";r.r(a),r.d(a,"RetailersModule",function(){return ct});var n=r("SVse"),l=r("s7LF"),s=r("FE24"),d=r("2ZVE"),b=r("iInd"),c=r("R7Hv"),u=r("7nfi"),v=r("1qmy"),g=r("AytR"),m=r("8Y7J"),f=r("EApP"),p=r("YFAK"),h=r("LqlI"),R=["commentModal"],S=["detailsModal"];function y(t,e){if(1&t){var i=m.Tb();m.Sb(0,"ul",57),m.Sb(1,"li",58),m.Sb(2,"a",59),m.Zb("click",function(){return m.vc(i),m.cc().toggleCropPrices("All")}),m.Dc(3,"All"),m.Rb(),m.Sb(4,"a",59),m.Zb("click",function(){return m.vc(i),m.cc().toggleCropPrices("Approved")}),m.Dc(5,"Approved"),m.Rb(),m.Sb(6,"a",59),m.Zb("click",function(){return m.vc(i),m.cc().toggleCropPrices("Approvalpending")}),m.Dc(7,"Approval pending"),m.Rb(),m.Sb(8,"a",59),m.Zb("click",function(){return m.vc(i),m.cc().toggleCropPrices("Rejected")}),m.Dc(9,"Rejected"),m.Rb(),m.Rb(),m.Rb()}}function A(t,e){1&t&&(m.Sb(0,"div"),m.Dc(1," Name is required. "),m.Rb())}function D(t,e){if(1&t&&(m.Sb(0,"div",60),m.Bc(1,A,2,0,"div",61),m.Rb()),2&t){var i=m.cc();m.Ab(1),m.jc("ngIf",i.f.Name.errors.required)}}function C(t,e){1&t&&(m.Sb(0,"div"),m.Dc(1," Username is required. "),m.Rb())}function N(t,e){1&t&&(m.Sb(0,"div"),m.Dc(1," Username should have minimum 3 characters. "),m.Rb())}function k(t,e){1&t&&(m.Sb(0,"div"),m.Dc(1," Username cannot contain space. "),m.Rb())}function w(t,e){if(1&t&&(m.Sb(0,"div",60),m.Bc(1,C,2,0,"div",61),m.Bc(2,N,2,0,"div",61),m.Bc(3,k,2,0,"div",61),m.Rb()),2&t){var i=m.cc();m.Ab(1),m.jc("ngIf",i.f.username.errors.required),m.Ab(1),m.jc("ngIf",i.f.username.errors.minlength),m.Ab(1),m.jc("ngIf",i.f.username.errors.cannotContainSpace)}}function L(t,e){1&t&&(m.Sb(0,"div"),m.Dc(1," Password is required. "),m.Rb())}function F(t,e){if(1&t&&(m.Sb(0,"div",60),m.Bc(1,L,2,0,"div",61),m.Rb()),2&t){var i=m.cc();m.Ab(1),m.jc("ngIf",i.f.password.errors.required)}}function j(t,e){1&t&&(m.Sb(0,"div"),m.Dc(1," Contact number is required. "),m.Rb())}function M(t,e){if(1&t&&(m.Sb(0,"div",60),m.Bc(1,j,2,0,"div",61),m.Rb()),2&t){var i=m.cc();m.Ab(1),m.jc("ngIf",i.f.ContactNumber.errors.required)}}function q(t,e){if(1&t&&(m.Sb(0,"option",62),m.Dc(1),m.Rb()),2&t){var i=e.$implicit;m.kc("value",i.id),m.Ab(1),m.Fc(" ",i.attributes.Name," ")}}function P(t,e){1&t&&(m.Sb(0,"div"),m.Dc(1," State is required. "),m.Rb())}function I(t,e){if(1&t&&(m.Sb(0,"div",60),m.Bc(1,P,2,0,"div",61),m.Rb()),2&t){var i=m.cc();m.Ab(1),m.jc("ngIf",i.f.state.errors.required)}}function B(t,e){if(1&t&&(m.Sb(0,"option",62),m.Dc(1),m.Rb()),2&t){var i=e.$implicit;m.kc("value",i.id),m.Ab(1),m.Fc(" ",i.attributes.Name," ")}}function G(t,e){1&t&&(m.Sb(0,"div"),m.Dc(1," LGA is required. "),m.Rb())}function x(t,e){if(1&t&&(m.Sb(0,"div",60),m.Bc(1,G,2,0,"div",61),m.Rb()),2&t){var i=m.cc();m.Ab(1),m.jc("ngIf",i.f.lga.errors.required)}}function U(t,e){if(1&t&&(m.Sb(0,"option",62),m.Dc(1),m.Rb()),2&t){var i=e.$implicit;m.kc("value",i.id),m.Ab(1),m.Fc(" ",i.attributes.Name," ")}}function Z(t,e){1&t&&(m.Sb(0,"div"),m.Dc(1," Village is required. "),m.Rb())}function E(t,e){if(1&t&&(m.Sb(0,"div",60),m.Bc(1,Z,2,0,"div",61),m.Rb()),2&t){var i=m.cc();m.Ab(1),m.jc("ngIf",i.f.village.errors.required)}}function _(t,e){1&t&&(m.Sb(0,"div"),m.Dc(1," Gender is required. "),m.Rb())}function V(t,e){if(1&t&&(m.Sb(0,"div",60),m.Bc(1,_,2,0,"div",61),m.Rb()),2&t){var i=m.cc();m.Ab(1),m.jc("ngIf",i.f.Gender.errors.required)}}function T(t,e){1&t&&(m.Sb(0,"div"),m.Dc(1," Age is required. "),m.Rb())}function O(t,e){if(1&t&&(m.Sb(0,"div",60),m.Bc(1,T,2,0,"div",61),m.Rb()),2&t){var i=m.cc();m.Ab(1),m.jc("ngIf",i.f.Age.errors.required)}}function $(t,e){1&t&&m.Nb(0,"span",63)}var z=["myModal"],J=["resultModal"],Y=["deleteModal"],K=["addProductModal"],H=["approveModal"];function Q(t,e){if(1&t){var i=m.Tb();m.Sb(0,"div",72),m.Sb(1,"div",10),m.Sb(2,"a",20),m.Nb(3,"img",73),m.Rb(),m.Sb(4,"div",15),m.Sb(5,"div",18),m.Sb(6,"h5",74),m.Dc(7),m.Rb(),m.Rb(),m.Sb(8,"p",75),m.Dc(9),m.Rb(),m.Sb(10,"button",13),m.Zb("click",function(){m.vc(i);var t=e.$implicit;return m.cc().openModal(t,"edit")}),m.Dc(11," Edit "),m.Rb(),m.Sb(12,"button",76),m.Zb("click",function(){m.vc(i);var t=e.$implicit;return m.cc().openDeleteModal(t)}),m.Dc(13," Delete "),m.Rb(),m.Rb(),m.Rb(),m.Rb()}if(2&t){var a=e.$implicit,o=m.cc();m.Ab(2),m.kc("href",o.imgUrl(null==a||null==a.attributes||null==a.attributes.Images||null==a.attributes.Images.data[0]||null==a.attributes.Images.data[0].attributes?null:a.attributes.Images.data[0].attributes.url),m.xc),m.Ab(1),m.kc("src",o.imgUrl(null==a||null==a.attributes||null==a.attributes.Images||null==a.attributes.Images.data[0]||null==a.attributes.Images.data[0].attributes?null:a.attributes.Images.data[0].attributes.url),m.xc),m.Ab(4),m.Fc(" Item : ",null==a||null==a.attributes?null:a.attributes.ItemName," "),m.Ab(2),m.Gc(" Price : ",null==a||null==a.attributes?null:a.attributes.Price," per ",null==a||null==a.attributes?null:a.attributes.Unit," ")}}function W(t,e){if(1&t&&(m.Sb(0,"option",77),m.Dc(1),m.Rb()),2&t){var i=e.$implicit;m.kc("value",i.id),m.Ab(1),m.Fc(" ",i.attributes.CategoryName," ")}}function X(t,e){if(1&t&&(m.Sb(0,"option",77),m.Dc(1),m.Rb()),2&t){var i=e.$implicit;m.kc("value",i.id),m.Ab(1),m.Fc(" ",i.attributes.Name," ")}}function tt(t,e){if(1&t&&(m.Sb(0,"option",77),m.Dc(1),m.Rb()),2&t){var i=e.$implicit;m.kc("value",i.id),m.Ab(1),m.Fc(" ",i.attributes.Name," ")}}function et(t,e){if(1&t&&(m.Sb(0,"option",77),m.Dc(1),m.Rb()),2&t){var i=e.$implicit;m.kc("value",i.id),m.Ab(1),m.Fc(" ",i.attributes.Name," ")}}function it(t,e){1&t&&m.Nb(0,"span",78)}function at(t,e){1&t&&m.Nb(0,"span",78)}function ot(t,e){1&t&&m.Nb(0,"span",78)}var rt,nt,lt,st,dt=[{path:"",children:[{path:"",redirectTo:"retailers"},{path:"all",component:(nt=function(){function e(a,o,r,n){i(this,e),this.dataservice=a,this.router=o,this.fb=r,this.toastr=n,this.loading=!0,this.btnLoading=!1,this.confirmed=void 0,this.blocked=void 0,this.disableNextButton=!1,this.disablePrevButton=!0,this.selectedList="All",this.pageSize=20,this.from=1,this.to=20,this.count=1,this.columnDefs=[],this.rowData=[],this.Villages=[],this.LGA=[],this.Areas=[],this.States=[],this.selectedYear=(new Date).getFullYear(),this.years=[],this.filter={},this.columnDefs=t(u.k),this.setForm(),this.rowSelection="single"}return o(e,[{key:"ngOnInit",value:function(){this.loading=!0,console.log(this.router),this.getRetailers(),this.getAreas(),this.getLGAs(),this.getStates(),this.getVillages()}},{key:"getStates",value:function(){var t=this;this.dataservice.getStates(1,1e4,"").valueChanges.subscribe(function(e){console.log("getStates",e.data.states.data),t.States=e.data.states.data})}},{key:"downloadExcel",value:function(){var t=this;this.btnLoading=!0,this.dataservice.downloadRetailers().subscribe(function(e){var i;e.body,console.log(e),200===e.status&&"Success"==e.body.status?(t.toastr.success(e.body.message),t.btnLoading=!1,window.open("".concat(g.a.apiUrl).concat(null===(i=null==e?void 0:e.body)||void 0===i?void 0:i.path),"_blank")):(t.btnLoading=!1,t.toastr.error(e.body.message))})}},{key:"setForm",value:function(){this.commentForm=this.fb.group({UserType:["Retailer"],username:["",[l.s.required,l.s.minLength(4),v.a.cannotContainSpace]],email:["nodata@email.com"],password:["",l.s.required],Name:["",l.s.required],Gender:["",l.s.required],Age:["",l.s.required],ContactNumber:["",l.s.required],lga:["",l.s.required],village:["",l.s.required],state:[""]})}},{key:"f",get:function(){return this.commentForm.controls}},{key:"getLGAs",value:function(t){var e=this;this.dataservice.getLGAs(1,1e4,"",t).valueChanges.subscribe(function(t){console.log("getLGAs",t.data.lgas.data),e.LGA=t.data.lgas.data})}},{key:"getAreas",value:function(t){var e=this;this.dataservice.getAreas(1,1e4,"",t).valueChanges.subscribe(function(t){console.log("getAreas",t.data.areas.data),e.Areas=t.data.areas.data})}},{key:"getVillages",value:function(t){var e=this;this.dataservice.getVillages(1,1e4,"",t).valueChanges.subscribe(function(t){console.log("getVillages",t.data.villages.data),e.Villages=t.data.villages.data})}},{key:"getRetailers",value:function(){var t=this;this.dataservice.getRetailers(1,this.pageSize,this.confirmed,this.blocked).valueChanges.subscribe(function(e){var i,a,o,r,n,l;t.rowData=e.data.usersPermissionsUsers.data,t.meta=e.data.usersPermissionsUsers.meta,(null===(a=null===(i=t.meta)||void 0===i?void 0:i.pagination)||void 0===a?void 0:a.pageCount)<=1&&(t.disablePrevButton=!0,t.disableNextButton=!0),(null===(r=null===(o=t.meta)||void 0===o?void 0:o.pagination)||void 0===r?void 0:r.total)<t.pageSize&&(t.to=null===(l=null===(n=t.meta)||void 0===n?void 0:n.pagination)||void 0===l?void 0:l.total)})}},{key:"loadNext",value:function(){var t,e,i,a,o=this;this.count++,this.disablePrevButton=!1,this.from=this.from+this.pageSize,this.to=this.to+this.pageSize>(null===(e=null===(t=this.meta)||void 0===t?void 0:t.pagination)||void 0===e?void 0:e.total)?null===(a=null===(i=this.meta)||void 0===i?void 0:i.pagination)||void 0===a?void 0:a.total:this.to+this.pageSize,this.count===this.meta.pagination.pageCount&&(this.disableNextButton=!0),this.dataservice.getRetailers(this.count,this.pageSize).valueChanges.subscribe(function(t){o.meta=t.data.usersPermissionsUsers.meta,o.rowData=t.data.usersPermissionsUsers.data})}},{key:"loadPrev",value:function(){var t=this;this.count--,this.count<this.meta.pagination.pageCount&&(this.disableNextButton=!1),1===this.count&&(this.disablePrevButton=!0),this.from=this.from-this.pageSize,this.to=this.to-this.rowData.length,this.dataservice.getRetailers(this.count,this.pageSize).valueChanges.subscribe(function(e){t.meta=e.data.usersPermissionsUsers.meta,t.rowData=e.data.usersPermissionsUsers.data})}},{key:"filterLGA",value:function(t){this.getLGAs(t.target.value)}},{key:"filterVillage",value:function(t){this.getVillages(t.target.value)}},{key:"onGridReady",value:function(t){this.gridApi=t.api,this.gridColumnApi=t.columnApi,this.gridApi.sizeColumnsToFit()}},{key:"onRowClicked",value:function(t){console.log("row",t.data)}},{key:"toggleCropPrices",value:function(t){switch(t){case"Rejected":this.selectedList="Rejected",this.blocked=!0,this.confirmed=void 0,this.getRetailers();break;case"Approvalpending":this.selectedList="Pending",this.blocked=!1,this.confirmed=!1,this.getRetailers();break;case"Approved":this.selectedList="Approved",this.blocked=!1,this.confirmed=!0,this.getRetailers();break;case"All":this.selectedList="All",this.blocked=void 0,this.confirmed=void 0,this.getRetailers()}}},{key:"onSelectionChanged",value:function(t){var e=this.gridApi.getSelectedRows();console.log(e,t),this.router.navigate(["/retailers/retailer_details",e[0].id],{state:{data:e}})}},{key:"openModal",value:function(t){this.detailsModal.show()}},{key:"formSubmit",value:function(){var t=this;console.log(this.commentForm.value),this.btnLoading=!0,this.dataservice.createRetailer(this.commentForm.value).subscribe(function(e){console.log("response",e),e?(t.toastr.success("Retailer added successfully!"),t.btnLoading=!1,t.commentModal.hide(),t.setForm(),t.getRetailers()):(t.toastr.error("Failed. Please check the fields!"),t.btnLoading=!1)},function(e){t.btnLoading=!1})}}]),e}(),nt.\u0275fac=function(t){return new(t||nt)(m.Mb(c.a),m.Mb(b.c),m.Mb(l.c),m.Mb(f.b))},nt.\u0275cmp=m.Gb({type:nt,selectors:[["ng-component"]],viewQuery:function(t,e){var i;1&t&&(m.Ic(R,1),m.Ic(S,1)),2&t&&(m.rc(i=m.ac())&&(e.commentModal=i.first),m.rc(i=m.ac())&&(e.detailsModal=i.first))},decls:121,vars:26,consts:[[1,"animated","fadeIn"],[1,"card"],[1,"card-header",2,"display","flex","justify-content","space-between"],["type","button","data-toggle","modal",1,"btn","btn-outline-primary",3,"click"],["type","button","data-toggle","modal",1,"btn","btn-primary",3,"click"],[1,"card-body"],[1,"row"],[1,"col-12"],["dropdown","",1,"btn-group","float-right","mb-3"],["dropdownToggle","","type","button",1,"btn","btn-primary","dropdown-toggle"],[1,"caret"],["class","dropdown-menu","role","menu",4,"dropdownMenu"],["id","myGrid","animateRows","true",1,"ag-theme-alpine",2,"width","100%","height","65vh",3,"columnDefs","rowData","rowSelection","gridReady","selectionChanged"],["agGrid",""],[1,"float-left","mt-3"],["type","button",1,"btn","btn-primary","float-right","m-2",3,"disabled","click"],[1,"float-right","mt-3"],["bsModal","","tabindex","-1","role","dialog","aria-labelledby","myModalLabel","aria-hidden","true",1,"modal","fade"],["commentModal","bs-modal"],["role","document",1,"modal-dialog","modal-dialog-centered"],[1,"modal-content"],[1,"modal-header"],[1,"modal-title"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],[3,"formGroup","ngSubmit"],[1,"col"],[1,"form-group"],["for","Name"],["type","text","id","Name","name","Name","formControlName","Name","placeholder","Enter  Name",1,"form-control"],["class","text-danger",4,"ngIf"],["for","username"],["type","text","id","username","name","username","formControlName","username","placeholder","Enter username",1,"form-control"],["for","password"],["type","password","id","password","name","password","formControlName","password","placeholder","Enter password",1,"form-control"],["for","ContactNumber"],["type","text","id","ContactNumber","name","ContactNumber","formControlName","ContactNumber","placeholder","Enter contact number",1,"form-control"],["for","state"],["id","state","required","","ngModel","","name","state","formControlName","state",1,"form-control",3,"change"],["value","","disabled","","selected","","hidden",""],[3,"value",4,"ngFor","ngForOf"],["for","lga"],["id","lga","required","","ngModel","","name","lga","formControlName","lga",1,"form-control",3,"change"],["for","village"],["id","village","required","","ngModel","","name","village","formControlName","village",1,"form-control"],["for","Gender"],["id","Gender","required","","ngModel","","name","Gender","formControlName","Gender",1,"form-control"],["value","Male"],["value","Female"],["for","Age"],["type","text","id","Age","name","Age","formControlName","Age","placeholder","Enter age",1,"form-control"],["type","button",1,"btn","btn-secondary",3,"click"],["type","submit",1,"btn","btn-primary","ml-2",3,"disabled"],["class","spinner-border spinner-border-sm","role","status","aria-hidden","true",4,"ngIf"],["bsModal","","tabindex","-1","role","dialog","aria-hidden","true",1,"modal","fade"],["detailsModal","bs-modal"],["role","menu",1,"dropdown-menu"],["role","menuitem"],[1,"dropdown-item",3,"click"],[1,"text-danger"],[4,"ngIf"],[3,"value"],["role","status","aria-hidden","true",1,"spinner-border","spinner-border-sm"]],template:function(t,e){if(1&t){var i=m.Tb();m.Sb(0,"div",0),m.Sb(1,"div",1),m.Sb(2,"div",2),m.Sb(3,"h2"),m.Dc(4,"Retailers"),m.Rb(),m.Sb(5,"div"),m.Sb(6,"button",3),m.Zb("click",function(){return e.downloadExcel()}),m.Dc(7," Download excel "),m.Rb(),m.Sb(8,"button",4),m.Zb("click",function(){return m.vc(i),m.sc(31).show()}),m.Dc(9," Add New Retailer "),m.Rb(),m.Rb(),m.Rb(),m.Sb(10,"div",5),m.Sb(11,"div",6),m.Sb(12,"div",7),m.Sb(13,"div",8),m.Sb(14,"button",9),m.Dc(15),m.Nb(16,"span",10),m.Rb(),m.Bc(17,y,10,0,"ul",11),m.Rb(),m.Rb(),m.Rb(),m.Sb(18,"div",6),m.Sb(19,"div",7),m.Sb(20,"ag-grid-angular",12,13),m.Zb("gridReady",function(t){return e.onGridReady(t)})("selectionChanged",function(t){return e.onSelectionChanged(t)}),m.Rb(),m.Sb(22,"span",14),m.Dc(23),m.Rb(),m.Sb(24,"button",15),m.Zb("click",function(){return e.loadNext()}),m.Dc(25," Next "),m.Rb(),m.Sb(26,"span",16),m.Dc(27),m.Rb(),m.Sb(28,"button",15),m.Zb("click",function(){return e.loadPrev()}),m.Dc(29," Prev "),m.Rb(),m.Rb(),m.Rb(),m.Rb(),m.Rb(),m.Rb(),m.Sb(30,"div",17,18),m.Sb(32,"div",19),m.Sb(33,"div",20),m.Sb(34,"div",21),m.Sb(35,"h4",22),m.Dc(36,"Add Retailer"),m.Rb(),m.Sb(37,"button",23),m.Zb("click",function(){return m.vc(i),m.sc(31).hide()}),m.Sb(38,"span",24),m.Dc(39,"\xd7"),m.Rb(),m.Rb(),m.Rb(),m.Sb(40,"div",25),m.Sb(41,"form",26),m.Zb("ngSubmit",function(){return e.formSubmit()}),m.Sb(42,"div",6),m.Sb(43,"div",27),m.Sb(44,"div",28),m.Sb(45,"label",29),m.Dc(46,"Name"),m.Rb(),m.Nb(47,"input",30),m.Bc(48,D,2,1,"div",31),m.Rb(),m.Sb(49,"div",28),m.Sb(50,"label",32),m.Dc(51,"Username"),m.Rb(),m.Nb(52,"input",33),m.Bc(53,w,4,3,"div",31),m.Rb(),m.Sb(54,"div",28),m.Sb(55,"label",34),m.Dc(56,"Password"),m.Rb(),m.Nb(57,"input",35),m.Bc(58,F,2,1,"div",31),m.Rb(),m.Sb(59,"div",28),m.Sb(60,"label",36),m.Dc(61,"Contact number"),m.Rb(),m.Nb(62,"input",37),m.Bc(63,M,2,1,"div",31),m.Rb(),m.Rb(),m.Sb(64,"div",27),m.Sb(65,"div",28),m.Sb(66,"label",38),m.Dc(67,"State"),m.Rb(),m.Sb(68,"select",39),m.Zb("change",function(t){return e.filterLGA(t)}),m.Sb(69,"option",40),m.Dc(70,"Choose..."),m.Rb(),m.Bc(71,q,2,2,"option",41),m.Rb(),m.Bc(72,I,2,1,"div",31),m.Rb(),m.Sb(73,"div",28),m.Sb(74,"label",42),m.Dc(75,"LGA"),m.Rb(),m.Sb(76,"select",43),m.Zb("change",function(t){return e.filterVillage(t)}),m.Sb(77,"option",40),m.Dc(78,"Choose..."),m.Rb(),m.Bc(79,B,2,2,"option",41),m.Rb(),m.Bc(80,x,2,1,"div",31),m.Rb(),m.Sb(81,"div",28),m.Sb(82,"label",44),m.Dc(83,"Village"),m.Rb(),m.Sb(84,"select",45),m.Sb(85,"option",40),m.Dc(86,"Choose..."),m.Rb(),m.Bc(87,U,2,2,"option",41),m.Rb(),m.Bc(88,E,2,1,"div",31),m.Rb(),m.Sb(89,"div",28),m.Sb(90,"label",46),m.Dc(91,"Gender"),m.Rb(),m.Sb(92,"select",47),m.Sb(93,"option",40),m.Dc(94,"Choose..."),m.Rb(),m.Sb(95,"option",48),m.Dc(96,"Male"),m.Rb(),m.Sb(97,"option",49),m.Dc(98,"Female"),m.Rb(),m.Rb(),m.Bc(99,V,2,1,"div",31),m.Rb(),m.Sb(100,"div",28),m.Sb(101,"label",50),m.Dc(102,"Age"),m.Rb(),m.Nb(103,"input",51),m.Bc(104,O,2,1,"div",31),m.Rb(),m.Rb(),m.Rb(),m.Sb(105,"button",52),m.Zb("click",function(){return m.vc(i),m.sc(31).hide()}),m.Dc(106," Close "),m.Rb(),m.Sb(107,"button",53),m.Bc(108,$,1,0,"span",54),m.Dc(109," Save changes "),m.Rb(),m.Rb(),m.Rb(),m.Rb(),m.Rb(),m.Rb(),m.Sb(110,"div",55,56),m.Sb(112,"div",19),m.Sb(113,"div",20),m.Sb(114,"div",21),m.Sb(115,"h4",22),m.Dc(116,"History"),m.Rb(),m.Sb(117,"button",23),m.Zb("click",function(){return m.vc(i),m.sc(111).hide()}),m.Sb(118,"span",24),m.Dc(119,"\xd7"),m.Rb(),m.Rb(),m.Rb(),m.Nb(120,"div",25),m.Rb(),m.Rb(),m.Rb()}2&t&&(m.Ab(15),m.Fc(" ",e.selectedList,""),m.Ab(5),m.jc("columnDefs",e.columnDefs)("rowData",e.rowData)("rowSelection",e.rowSelection),m.Ab(3),m.Hc("",e.from," to ",e.to," of ",null==e.meta||null==e.meta.pagination?null:e.meta.pagination.total,""),m.Ab(1),m.jc("disabled",e.disableNextButton),m.Ab(3),m.Gc("Page ",null==e.meta||null==e.meta.pagination?null:e.meta.pagination.page," of ",null==e.meta||null==e.meta.pagination?null:e.meta.pagination.pageCount,""),m.Ab(1),m.jc("disabled",e.disablePrevButton),m.Ab(13),m.jc("formGroup",e.commentForm),m.Ab(7),m.jc("ngIf",e.f.Name.touched&&e.f.Name.invalid),m.Ab(5),m.jc("ngIf",e.f.username.touched&&e.f.username.invalid),m.Ab(5),m.jc("ngIf",e.f.password.touched&&e.f.password.invalid),m.Ab(5),m.jc("ngIf",e.f.ContactNumber.touched&&e.f.ContactNumber.invalid),m.Ab(8),m.jc("ngForOf",e.States),m.Ab(1),m.jc("ngIf",e.f.state.touched&&e.f.state.invalid),m.Ab(7),m.jc("ngForOf",e.LGA),m.Ab(1),m.jc("ngIf",e.f.lga.touched&&e.f.lga.invalid),m.Ab(7),m.jc("ngForOf",e.Villages),m.Ab(1),m.jc("ngIf",e.f.village.touched&&e.f.village.invalid),m.Ab(11),m.jc("ngIf",e.f.Gender.touched&&e.f.Gender.invalid),m.Ab(5),m.jc("ngIf",e.f.Age.touched&&e.f.Age.invalid),m.Ab(3),m.jc("disabled",e.btnLoading||!e.commentForm.valid),m.Ab(1),m.jc("ngIf",e.btnLoading))},directives:[s.a,s.d,s.b,p.a,h.a,l.t,l.j,l.e,l.b,l.i,l.d,n.k,l.q,l.p,l.m,l.u,n.j],encapsulation:2}),nt),data:{roles:"KP_CALLER",title:"Retailers"}},{path:"retailer_details/:id",component:(rt=function(){function t(e,a,o,r,n){i(this,t),this.dataservice=e,this.activatedRouter=a,this.router=o,this.fb=r,this.toastr=n,this.baseURL=g.a.apiUrl,this.loading=!0,this.btnText="Approve / Reject",this.disableButton=!0,this.details=[],this.btnLoading=!1,this.dateConverter=u.r,this.users=[],this.Villages=[],this.LGA=[],this.Areas=[],this.Retailers=[],this.Farmers=[],this.States=[],this.Crops=[],this.file=null,this.agentForm=this.fb.group({ContactNumber:["",l.s.required],Name:["",l.s.required],password:[""],Farmer:["",l.s.required],retailer_categories:["",l.s.required],Bio:["",l.s.required],state:["",l.s.required],village:["",l.s.required],lga:["",l.s.required],Latitude:["",l.s.required],Longitude:["",l.s.required]}),this.resultForm=this.fb.group({id:[""],itemName:["",l.s.required],price:["",l.s.required],unit:["",l.s.required]}),this.productForm=this.fb.group({Image:["",l.s.required],itemName:["",l.s.required],price:["",l.s.required],unit:["",l.s.required]})}return o(t,[{key:"ngOnInit",value:function(){var t=this;this.getLists(),this.getAreas(),this.getCrops(),this.getLGAs(),this.getStates(),this.getVillages(),this.getFarmers(),this.getRetailers(),this.activatedRouter.params.subscribe(function(e){t.id=e.id}),this.getTest()}},{key:"imgUrl",value:function(t){return"".concat(g.a.apiUrl)+t}},{key:"getTest",value:function(){var t=this;this.dataservice.getsingleRetailer(this.id).valueChanges.subscribe(function(e){var i,a,o,r,n,s,d,b,c,u,v,g,m,f,p,h,R,S,y,A,D,C,N,k,w,L,F,j,M,q;if(console.log("getsingleRetailer",e.data.usersPermissionsUsers.data[0]),t.details=e.data.usersPermissionsUsers.data[0],t.agentForm=t.fb.group({ContactNumber:[null===(i=t.details.attributes)||void 0===i?void 0:i.ContactNumber,l.s.required],Name:[null===(a=t.details.attributes)||void 0===a?void 0:a.Name,l.s.required],Bio:[null===(o=t.details.attributes)||void 0===o?void 0:o.Bio,l.s.required],Latitude:[null===(r=t.details.attributes)||void 0===r?void 0:r.Latitude,l.s.required],Longitude:[null===(n=t.details.attributes)||void 0===n?void 0:n.Longitude,l.s.required],state:[null===(g=null===(v=null===(u=null===(c=null===(b=null===(d=null===(s=t.details)||void 0===s?void 0:s.attributes)||void 0===d?void 0:d.lga)||void 0===b?void 0:b.data)||void 0===c?void 0:c.attributes)||void 0===u?void 0:u.state)||void 0===v?void 0:v.data)||void 0===g?void 0:g.id,l.s.required],password:[""],lga:[null===(h=null===(p=null===(f=null===(m=t.details)||void 0===m?void 0:m.attributes)||void 0===f?void 0:f.lga)||void 0===p?void 0:p.data)||void 0===h?void 0:h.id,l.s.required],village:[null===(A=null===(y=null===(S=null===(R=t.details)||void 0===R?void 0:R.attributes)||void 0===S?void 0:S.village)||void 0===y?void 0:y.data)||void 0===A?void 0:A.id,l.s.required],retailer_categories:[null===(k=null===(N=null===(C=null===(D=t.details)||void 0===D?void 0:D.attributes)||void 0===C?void 0:C.retailer_categories)||void 0===N?void 0:N.data[0])||void 0===k?void 0:k.id,l.s.required]}),!0===(null===(L=null===(w=t.details)||void 0===w?void 0:w.attributes)||void 0===L?void 0:L.blocked))t.disableButton=!0,t.btnText="Rejected";else if(!0===(null===(j=null===(F=t.details)||void 0===F?void 0:F.attributes)||void 0===j?void 0:j.confirmed))t.disableButton=!0,t.btnText="Approved";else if(!1===(null===(q=null===(M=t.details)||void 0===M?void 0:M.attributes)||void 0===q?void 0:q.confirmed))return t.disableButton=!1;t.loading=!1})}},{key:"getCrops",value:function(){var t=this;this.dataservice.getCrops(1,1e4,"").valueChanges.subscribe(function(e){console.log("getCrops",e.data.crops.data),t.Crops=e.data.crops.data})}},{key:"getStates",value:function(){var t=this;this.dataservice.getStates(1,1e4,"").valueChanges.subscribe(function(e){console.log("getStates",e.data.states.data),t.States=e.data.states.data})}},{key:"getLGAs",value:function(t){var e=this;this.dataservice.getLGAs(1,1e4,"",t).valueChanges.subscribe(function(t){console.log("getLGAs",t.data.lgas.data),e.LGA=t.data.lgas.data})}},{key:"getAreas",value:function(t){var e=this;this.dataservice.getAreas(1,1e4,"",t).valueChanges.subscribe(function(t){console.log("getAreas",t.data.areas.data),e.Areas=t.data.areas.data})}},{key:"getRetailers",value:function(){var t=this;this.dataservice.getRetailerCategories().valueChanges.subscribe(function(e){console.log("getRetailers",e.data.retailerCategories.data),t.Retailers=e.data.retailerCategories.data})}},{key:"getFarmers",value:function(){var t=this;this.dataservice.getUsers(void 0,void 0,"Farmer").valueChanges.subscribe(function(e){console.log("getFarmers",e.data.usersPermissionsUsers.data),t.Farmers=e.data.usersPermissionsUsers.data})}},{key:"getVillages",value:function(t){var e=this;this.dataservice.getVillages(1,1e4,"",t).valueChanges.subscribe(function(t){console.log("getVillages",t.data.villages.data),e.Villages=t.data.villages.data})}},{key:"dateConvertor",value:function(t){return new Date(t)}},{key:"getLists",value:function(){this.loading=!0}},{key:"approveOrReject",value:function(t){var e,i=this;e=t?{confirmed:!0,blocked:!1}:{confirmed:!1,blocked:!0},this.dataservice.UpdateRetailer(e,this.id).subscribe(function(t){console.log("response",t),t.data.updateUsersPermissionsUser?(i.toastr.success("Updated successfully!"),i.btnLoading=!1,i.approveModal.hide(),i.getTest()):(i.toastr.error("Something went wrong!"),i.btnLoading=!1)},function(t){i.btnLoading=!1})}},{key:"openApproveModal",value:function(){this.approveModal.show()}},{key:"openModal",value:function(t,e){var i,a,o;this.resultModal.show(),console.log(t,e),this.flag=e,this.resultForm=this.fb.group({id:[null==t?void 0:t.id],soil_test_sample:[null==t?void 0:t.id],itemName:[null===(i=null==t?void 0:t.attributes)||void 0===i?void 0:i.ItemName,l.s.required],price:[null===(a=null==t?void 0:t.attributes)||void 0===a?void 0:a.Price,l.s.required],unit:[null===(o=null==t?void 0:t.attributes)||void 0===o?void 0:o.Unit,l.s.required]})}},{key:"openDeleteModal",value:function(t){this.deleteObj=t,this.deleteModal.show()}},{key:"FormSubmit",value:function(){var t=this;this.btnLoading=!0,console.log(this.agentForm.value),this.dataservice.UpdateRetailer(this.agentForm.value,this.id).subscribe(function(e){e.data,console.log("response",e),e.data.updateUsersPermissionsUser?(t.toastr.success("Retailer updated successfully!"),t.btnLoading=!1,t.myModal.hide(),t.getTest()):(t.toastr.error("Failed. Please check the fields!"),t.btnLoading=!1)},function(e){t.btnLoading=!1})}},{key:"ResultSubmit",value:function(){var t,e,i,a,o=this;console.log("edit",this.resultForm.value),this.btnLoading=!0,console.log(this.resultForm.value),this.dataservice.UpdateRetailerProducts(this.resultForm.value,null===(a=null===(i=null===(e=null===(t=this.details)||void 0===t?void 0:t.attributes)||void 0===e?void 0:e.retailer_categories)||void 0===i?void 0:i.data[0])||void 0===a?void 0:a.id,this.id).subscribe(function(t){t.data,console.log("response",t),t.data.updateRetailerProduct?(o.toastr.success("Product updated successfully!"),o.btnLoading=!1,o.resultModal.hide(),o.getTest()):(o.toastr.error("Failed. Please check the fields!"),o.btnLoading=!1)},function(t){o.btnLoading=!1})}},{key:"onChange",value:function(t){this.file=[];for(var e=0;e<t.target.files.length;e++)this.file.push(t.target.files[e]);console.log(this.file)}},{key:"filterLGA",value:function(t){this.getLGAs(t.target.value)}},{key:"filterVillage",value:function(t){this.getVillages(t.target.value)}},{key:"uploadProfPic",value:function(){var t=this;this.dataservice.upload(this.file).subscribe(function(e){var i;200==e.status?(console.log(e),t.dataservice.UpdateRetailerPic(t.id,null===(i=e.body[0])||void 0===i?void 0:i.id).subscribe(function(e){e.data,console.log("response",e),e.data.updateUsersPermissionsUser?(t.toastr.success("Success!"),t.file=null,t.getTest(),t.addProductModal.hide()):t.toastr.error("Failed!")})):t.toastr.error("Image failed to upload!")})}},{key:"ProductSubmit",value:function(){var t=this;this.btnLoading=!0,this.dataservice.upload(this.file).subscribe(function(e){var i,a,o,r,n;200==e.status?(console.log(e),t.dataservice.addRetailerProducts(t.productForm.value,null===(r=null===(o=null===(a=null===(i=t.details)||void 0===i?void 0:i.attributes)||void 0===a?void 0:a.retailer_categories)||void 0===o?void 0:o.data[0])||void 0===r?void 0:r.id,t.id,null===(n=e.body[0])||void 0===n?void 0:n.id).subscribe(function(e){e.data,console.log("response",e),e.data.createRetailerProduct?(t.toastr.success("Success!"),t.btnLoading=!1,t.file=null,t.getTest(),t.addProductModal.hide()):(t.toastr.error("Failed!"),t.btnLoading=!1)},function(e){t.btnLoading=!1})):(t.toastr.error("Image failed to upload!"),t.btnLoading=!1)})}},{key:"deleteProduct",value:function(){var t=this;this.dataservice.deleteProduct(this.deleteObj.id).subscribe(function(e){console.log("response",e),e.data.deleteRetailerProduct?(t.toastr.success("Success!"),t.deleteModal.hide(),t.getTest()):t.toastr.error("Failed!")})}}]),t}(),rt.\u0275fac=function(t){return new(t||rt)(m.Mb(c.a),m.Mb(b.a),m.Mb(b.c),m.Mb(l.c),m.Mb(f.b))},rt.\u0275cmp=m.Gb({type:rt,selectors:[["ng-component"]],viewQuery:function(t,e){var i;1&t&&(m.Ic(z,1),m.Ic(J,1),m.Ic(Y,1),m.Ic(K,1),m.Ic(H,1)),2&t&&(m.rc(i=m.ac())&&(e.myModal=i.first),m.rc(i=m.ac())&&(e.resultModal=i.first),m.rc(i=m.ac())&&(e.deleteModal=i.first),m.rc(i=m.ac())&&(e.addProductModal=i.first),m.rc(i=m.ac())&&(e.approveModal=i.first))},decls:258,vars:32,consts:[[1,"animated","fadeIn"],["bsModal","","tabindex","-1","role","dialog","aria-labelledby","myModalLabel","aria-hidden","true",1,"modal","fade"],["deleteModal","bs-modal"],[1,"modal-dialog","modal-dialog-centered","modal-sm"],[1,"modal-content"],[1,"modal-body","text-center"],[1,"modal-footer","justify-content-around"],["type","button",1,"btn","btn-secondary",3,"click"],["type","button",1,"btn","btn-primary",3,"click"],["approveModal","bs-modal"],[1,"card"],[1,"card-header",2,"display","flex","justify-content","space-between"],["type","button","data-toggle","modal",1,"btn","btn-outline-primary",3,"click"],["type","button","data-toggle","modal",1,"btn","btn-primary",3,"click"],["type","button","data-toggle","modal",1,"btn","btn-warning",3,"click"],[1,"card-body"],[1,"row"],[1,"col"],[2,"display","flex","justify-content","space-between"],[1,"table","table-striped"],["target","_blank",3,"href"],["alt","Card image cap",1,"card-img-top",2,"width","150px","height","150px",3,"src"],["type","file","id","prof_pic","accept",".jpg,.jpeg,.JPEG,.png","name","prof_pic","placeholder","Choose image",1,"form-control",3,"change"],[2,"width","60%"],["class","col-4",4,"ngFor","ngForOf"],["myModal","bs-modal"],["role","document",1,"modal-dialog","modal-dialog-centered"],[1,"modal-header"],[1,"modal-title"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],[3,"formGroup","ngSubmit"],[1,"form-group"],["for","Name"],["type","text","id","Name","name","Name","formControlName","Name","placeholder","Enter Name",1,"form-control"],["for","market"],["type","text","id","ContactNumber","name","ContactNumber","formControlName","ContactNumber","placeholder","Enter contact number",1,"form-control"],["for","retailer_categories"],["id","retailer_categories","required","","ngModel","","name","retailer_categories","formControlName","retailer_categories",1,"form-control"],["value","","disabled","","selected","","hidden",""],[3,"value",4,"ngFor","ngForOf"],["for","Bio"],["id","Bio","name","Bio","formControlName","Bio","placeholder","Enter Bio",1,"form-control"],["for","password"],["type","password","id","password","name","password","formControlName","password","placeholder","Enter password",1,"form-control"],["for","state"],["id","state","required","","ngModel","","name","state","formControlName","state",1,"form-control",3,"change"],["for","lga"],["id","lga","required","","ngModel","","name","lga","formControlName","lga",1,"form-control",3,"change"],["for","village"],["id","village","required","","ngModel","","name","village","formControlName","village",1,"form-control"],["for","Latitude"],["type","text","id","Latitude","name","Latitude","formControlName","Latitude","placeholder","Enter Latitude",1,"form-control"],["for","Longitude"],["id","Longitude","required","","ngModel","","name","Longitude","formControlName","Longitude","placeholder","Enter Longitude",1,"form-control"],["type","submit",1,"btn","btn-primary","ml-2",3,"disabled"],["class","spinner-border spinner-border-sm","role","status","aria-hidden","true",4,"ngIf"],["bsModal","","tabindex","-1","role","dialog","aria-labelledby","resultModalLabel","aria-hidden","true",1,"modal","fade"],["resultModal","bs-modal"],["for","id"],["type","text","id","soil_test_sample","disabled","true","name","id","formControlName","id",1,"form-control"],["for","itemName"],["type","text","id","itemName","name","itemName","formControlName","itemName",1,"form-control"],["for","price"],["type","text","id","price","name","price","formControlName","price","placeholder","Enter value",1,"form-control"],["for","unit"],["type","text","id","unit","name","unit","formControlName","unit","placeholder","Enter value",1,"form-control"],["bsModal","","tabindex","-1","role","dialog","aria-labelledby","productModalLabel","aria-hidden","true",1,"modal","fade"],["addProductModal","bs-modal"],["for","Image"],["type","file","id","Image","accept",".jpg,.jpeg,.JPEG,.png","name","Image","formControlName","Image","placeholder","Choose image",1,"form-control",3,"change"],[1,"col-4"],["height","100","width","200","alt","Card image cap",1,"card-img-top",3,"src"],[1,"card-title"],[1,"card-text"],["type","button","data-toggle","modal",1,"btn","btn-danger",3,"click"],[3,"value"],["role","status","aria-hidden","true",1,"spinner-border","spinner-border-sm"]],template:function(t,e){if(1&t){var i=m.Tb();m.Sb(0,"div",0),m.Sb(1,"div",1,2),m.Sb(3,"div",3),m.Sb(4,"div",4),m.Sb(5,"div",5),m.Dc(6," Do you want to delete this record? "),m.Rb(),m.Sb(7,"div",6),m.Sb(8,"button",7),m.Zb("click",function(){return m.vc(i),m.sc(2).hide()}),m.Dc(9," No! Cancel. "),m.Rb(),m.Sb(10,"button",8),m.Zb("click",function(){return e.deleteProduct()}),m.Dc(11," Yes! Delete. "),m.Rb(),m.Rb(),m.Rb(),m.Rb(),m.Rb(),m.Sb(12,"div",1,9),m.Sb(14,"div",3),m.Sb(15,"div",4),m.Sb(16,"div",5),m.Dc(17," Do you want to approve this retailer? "),m.Rb(),m.Sb(18,"div",6),m.Sb(19,"button",7),m.Zb("click",function(){return e.approveOrReject(!1)}),m.Dc(20," No! Reject. "),m.Rb(),m.Sb(21,"button",8),m.Zb("click",function(){return e.approveOrReject(!0)}),m.Dc(22," Yes! Approve. "),m.Rb(),m.Rb(),m.Rb(),m.Rb(),m.Rb(),m.Sb(23,"div",10),m.Sb(24,"div",11),m.Sb(25,"h2"),m.Dc(26,"Retailer Details"),m.Rb(),m.Sb(27,"span"),m.Sb(28,"div"),m.Sb(29,"button",12),m.Zb("click",function(){return m.vc(i),m.sc(226).show()}),m.Dc(30," Add new product "),m.Rb(),m.Sb(31,"button",13),m.Zb("click",function(){return m.vc(i),m.sc(121).show()}),m.Dc(32," Edit "),m.Rb(),m.Sb(33,"button",14),m.Zb("click",function(){return e.openApproveModal()}),m.Dc(34),m.Rb(),m.Rb(),m.Rb(),m.Rb(),m.Sb(35,"div",15),m.Sb(36,"div",16),m.Sb(37,"div",17),m.Sb(38,"div",16),m.Sb(39,"div",18),m.Sb(40,"h4"),m.Dc(41,"Basic details"),m.Rb(),m.Rb(),m.Sb(42,"table",19),m.Sb(43,"tbody"),m.Sb(44,"tr"),m.Sb(45,"td"),m.Dc(46,"ID"),m.Rb(),m.Sb(47,"td"),m.Dc(48),m.Rb(),m.Rb(),m.Sb(49,"tr"),m.Sb(50,"td"),m.Dc(51,"Username"),m.Rb(),m.Sb(52,"td"),m.Dc(53),m.Rb(),m.Rb(),m.Sb(54,"tr"),m.Sb(55,"td"),m.Dc(56,"Profile pic"),m.Rb(),m.Sb(57,"td"),m.Sb(58,"a",20),m.Nb(59,"img",21),m.Rb(),m.Sb(60,"div",18),m.Sb(61,"input",22),m.Zb("change",function(t){return e.onChange(t)}),m.Rb(),m.Sb(62,"button",12),m.Zb("click",function(){return e.uploadProfPic()}),m.Dc(63," Upload "),m.Rb(),m.Rb(),m.Rb(),m.Rb(),m.Sb(64,"tr"),m.Sb(65,"td"),m.Dc(66,"Name"),m.Rb(),m.Sb(67,"td"),m.Dc(68),m.Rb(),m.Rb(),m.Sb(69,"tr"),m.Sb(70,"td"),m.Dc(71,"Contact number"),m.Rb(),m.Sb(72,"td"),m.Dc(73),m.Rb(),m.Rb(),m.Sb(74,"tr"),m.Sb(75,"td"),m.Dc(76,"Village"),m.Rb(),m.Sb(77,"td"),m.Dc(78),m.Rb(),m.Rb(),m.Sb(79,"tr"),m.Sb(80,"td"),m.Dc(81,"LGA"),m.Rb(),m.Sb(82,"td"),m.Dc(83),m.Rb(),m.Rb(),m.Sb(84,"tr"),m.Sb(85,"td"),m.Dc(86,"State"),m.Rb(),m.Sb(87,"td"),m.Dc(88),m.Rb(),m.Rb(),m.Sb(89,"tr"),m.Sb(90,"td"),m.Dc(91,"Retailer Category"),m.Rb(),m.Sb(92,"td"),m.Dc(93),m.Rb(),m.Rb(),m.Sb(94,"tr"),m.Sb(95,"td"),m.Dc(96,"Bio"),m.Rb(),m.Sb(97,"td",23),m.Dc(98),m.Rb(),m.Rb(),m.Sb(99,"tr"),m.Sb(100,"td"),m.Dc(101,"Location"),m.Rb(),m.Sb(102,"td"),m.Sb(103,"a",20),m.Dc(104,"Click here to view location"),m.Rb(),m.Rb(),m.Rb(),m.Sb(105,"tr"),m.Sb(106,"td"),m.Dc(107,"Created at"),m.Rb(),m.Sb(108,"td"),m.Dc(109),m.Rb(),m.Rb(),m.Sb(110,"tr"),m.Sb(111,"td"),m.Dc(112,"Last updated"),m.Rb(),m.Sb(113,"td"),m.Dc(114),m.Rb(),m.Rb(),m.Rb(),m.Rb(),m.Rb(),m.Rb(),m.Sb(115,"div",17),m.Sb(116,"h4"),m.Dc(117,"Products"),m.Rb(),m.Sb(118,"div",16),m.Bc(119,Q,14,5,"div",24),m.Rb(),m.Rb(),m.Rb(),m.Sb(120,"div",1,25),m.Sb(122,"div",26),m.Sb(123,"div",4),m.Sb(124,"div",27),m.Sb(125,"h4",28),m.Dc(126,"Edit details"),m.Rb(),m.Sb(127,"button",29),m.Zb("click",function(){return m.vc(i),m.sc(121).hide()}),m.Sb(128,"span",30),m.Dc(129,"\xd7"),m.Rb(),m.Rb(),m.Rb(),m.Sb(130,"div",31),m.Sb(131,"form",32),m.Zb("ngSubmit",function(){return e.FormSubmit()}),m.Sb(132,"div",16),m.Sb(133,"div",17),m.Sb(134,"div",33),m.Sb(135,"label",34),m.Dc(136,"Name"),m.Rb(),m.Nb(137,"input",35),m.Rb(),m.Sb(138,"div",33),m.Sb(139,"label",36),m.Dc(140,"Contact Number"),m.Rb(),m.Nb(141,"input",37),m.Rb(),m.Sb(142,"div",33),m.Sb(143,"label",38),m.Dc(144,"Retailer category"),m.Rb(),m.Sb(145,"select",39),m.Sb(146,"option",40),m.Dc(147," Choose... "),m.Rb(),m.Bc(148,W,2,2,"option",41),m.Rb(),m.Rb(),m.Sb(149,"div",33),m.Sb(150,"label",42),m.Dc(151,"Bio"),m.Rb(),m.Nb(152,"textarea",43),m.Rb(),m.Sb(153,"div",33),m.Sb(154,"label",44),m.Dc(155,"Password"),m.Rb(),m.Nb(156,"input",45),m.Rb(),m.Rb(),m.Sb(157,"div",17),m.Sb(158,"div",33),m.Sb(159,"label",46),m.Dc(160,"State"),m.Rb(),m.Sb(161,"select",47),m.Zb("change",function(t){return e.filterLGA(t)}),m.Sb(162,"option",40),m.Dc(163," Choose... "),m.Rb(),m.Bc(164,X,2,2,"option",41),m.Rb(),m.Rb(),m.Sb(165,"div",33),m.Sb(166,"label",48),m.Dc(167,"LGA"),m.Rb(),m.Sb(168,"select",49),m.Zb("change",function(t){return e.filterVillage(t)}),m.Sb(169,"option",40),m.Dc(170," Choose... "),m.Rb(),m.Bc(171,tt,2,2,"option",41),m.Rb(),m.Rb(),m.Sb(172,"div",33),m.Sb(173,"label",50),m.Dc(174,"Village"),m.Rb(),m.Sb(175,"select",51),m.Sb(176,"option",40),m.Dc(177," Choose... "),m.Rb(),m.Bc(178,et,2,2,"option",41),m.Rb(),m.Rb(),m.Sb(179,"div",33),m.Sb(180,"label",52),m.Dc(181,"Latitude"),m.Rb(),m.Nb(182,"input",53),m.Rb(),m.Sb(183,"div",33),m.Sb(184,"label",54),m.Dc(185,"Longitude"),m.Rb(),m.Nb(186,"input",55),m.Rb(),m.Sb(187,"button",7),m.Zb("click",function(){return m.vc(i),m.sc(121).hide()}),m.Dc(188," Close "),m.Rb(),m.Sb(189,"button",56),m.Bc(190,it,1,0,"span",57),m.Dc(191," Save changes "),m.Rb(),m.Rb(),m.Rb(),m.Rb(),m.Rb(),m.Rb(),m.Rb(),m.Rb(),m.Sb(192,"div",58,59),m.Sb(194,"div",26),m.Sb(195,"div",4),m.Sb(196,"div",27),m.Sb(197,"h4",28),m.Dc(198,"Edit product"),m.Rb(),m.Sb(199,"button",29),m.Zb("click",function(){return m.vc(i),m.sc(193).hide()}),m.Sb(200,"span",30),m.Dc(201,"\xd7"),m.Rb(),m.Rb(),m.Rb(),m.Sb(202,"div",31),m.Sb(203,"form",32),m.Zb("ngSubmit",function(){return e.ResultSubmit()}),m.Sb(204,"div",33),m.Sb(205,"label",60),m.Dc(206,"ID"),m.Rb(),m.Nb(207,"input",61),m.Rb(),m.Sb(208,"div",33),m.Sb(209,"label",62),m.Dc(210,"Item name"),m.Rb(),m.Nb(211,"input",63),m.Rb(),m.Sb(212,"div",33),m.Sb(213,"label",64),m.Dc(214,"Price"),m.Rb(),m.Nb(215,"input",65),m.Rb(),m.Sb(216,"div",33),m.Sb(217,"label",66),m.Dc(218,"Unit"),m.Rb(),m.Nb(219,"input",67),m.Rb(),m.Sb(220,"button",7),m.Zb("click",function(){return m.vc(i),m.sc(193).hide()}),m.Dc(221," Close "),m.Rb(),m.Sb(222,"button",56),m.Bc(223,at,1,0,"span",57),m.Dc(224," Save changes "),m.Rb(),m.Rb(),m.Rb(),m.Rb(),m.Rb(),m.Rb(),m.Sb(225,"div",68,69),m.Sb(227,"div",26),m.Sb(228,"div",4),m.Sb(229,"div",27),m.Sb(230,"h4",28),m.Dc(231,"Add product"),m.Rb(),m.Sb(232,"button",29),m.Zb("click",function(){return m.vc(i),m.sc(226).hide()}),m.Sb(233,"span",30),m.Dc(234,"\xd7"),m.Rb(),m.Rb(),m.Rb(),m.Sb(235,"div",31),m.Sb(236,"form",32),m.Zb("ngSubmit",function(){return e.ProductSubmit()}),m.Sb(237,"div",33),m.Sb(238,"label",62),m.Dc(239,"Item name"),m.Rb(),m.Nb(240,"input",63),m.Rb(),m.Sb(241,"div",33),m.Sb(242,"label",64),m.Dc(243,"Price"),m.Rb(),m.Nb(244,"input",65),m.Rb(),m.Sb(245,"div",33),m.Sb(246,"label",66),m.Dc(247,"Unit"),m.Rb(),m.Nb(248,"input",67),m.Rb(),m.Sb(249,"div",33),m.Sb(250,"label",70),m.Dc(251,"Image"),m.Rb(),m.Sb(252,"input",71),m.Zb("change",function(t){return e.onChange(t)}),m.Rb(),m.Rb(),m.Sb(253,"button",7),m.Zb("click",function(){return m.vc(i),m.sc(226).hide()}),m.Dc(254," Close "),m.Rb(),m.Sb(255,"button",56),m.Bc(256,ot,1,0,"span",57),m.Dc(257," Save changes "),m.Rb(),m.Rb(),m.Rb(),m.Rb(),m.Rb(),m.Rb(),m.Rb(),m.Rb(),m.Rb()}2&t&&(m.Ab(34),m.Fc(" ",e.btnText," "),m.Ab(14),m.Ec(null==e.details?null:e.details.id),m.Ab(5),m.Ec(null==e.details||null==e.details.attributes?null:e.details.attributes.username),m.Ab(5),m.lc("href","",e.baseURL,"",null==e.details||null==e.details.attributes||null==e.details.attributes.prof_pic||null==e.details.attributes.prof_pic.data||null==e.details.attributes.prof_pic.data.attributes?null:e.details.attributes.prof_pic.data.attributes.url,"",m.xc),m.Ab(1),m.lc("src","",e.baseURL,"",null==e.details||null==e.details.attributes||null==e.details.attributes.prof_pic||null==e.details.attributes.prof_pic.data||null==e.details.attributes.prof_pic.data.attributes?null:e.details.attributes.prof_pic.data.attributes.url,"",m.xc),m.Ab(9),m.Fc(" ",null==e.details||null==e.details.attributes?null:e.details.attributes.Name," "),m.Ab(5),m.Ec(null==e.details||null==e.details.attributes?null:e.details.attributes.ContactNumber),m.Ab(5),m.Fc(" ",null==e.details||null==e.details.attributes||null==e.details.attributes.village||null==e.details.attributes.village.data||null==e.details.attributes.village.data.attributes?null:e.details.attributes.village.data.attributes.Name," "),m.Ab(5),m.Ec(null==e.details||null==e.details.attributes||null==e.details.attributes.lga||null==e.details.attributes.lga.data?null:e.details.attributes.lga.data.attributes.Name),m.Ab(5),m.Fc(" ",null==e.details||null==e.details.attributes||null==e.details.attributes.lga||null==e.details.attributes.lga.data||null==e.details.attributes.lga.data.attributes||null==e.details.attributes.lga.data.attributes.state||null==e.details.attributes.lga.data.attributes.state.data||null==e.details.attributes.lga.data.attributes.state.data.attributes?null:e.details.attributes.lga.data.attributes.state.data.attributes.Name," "),m.Ab(5),m.Fc(" ",null==e.details||null==e.details.attributes||null==e.details.attributes.retailer_categories||null==e.details.attributes.retailer_categories.data[0]||null==e.details.attributes.retailer_categories.data[0].attributes?null:e.details.attributes.retailer_categories.data[0].attributes.CategoryName," "),m.Ab(5),m.Ec(null==e.details||null==e.details.attributes?null:e.details.attributes.Bio),m.Ab(5),m.lc("href","https://www.google.com/maps/search/?api=1&query=",null==e.details.attributes?null:e.details.attributes.Latitude,"%2C",null==e.details.attributes?null:e.details.attributes.Longitude,"",m.xc),m.Ab(6),m.Ec(e.dateConvertor(null==e.details||null==e.details.attributes?null:e.details.attributes.createdAt)),m.Ab(5),m.Ec(e.dateConvertor(null==e.details||null==e.details.attributes?null:e.details.attributes.updatedAt)),m.Ab(5),m.jc("ngForOf",null==e.details||null==e.details.attributes||null==e.details.attributes.retailer_products?null:e.details.attributes.retailer_products.data),m.Ab(12),m.jc("formGroup",e.agentForm),m.Ab(17),m.jc("ngForOf",e.Retailers),m.Ab(16),m.jc("ngForOf",e.States),m.Ab(7),m.jc("ngForOf",e.LGA),m.Ab(7),m.jc("ngForOf",e.Villages),m.Ab(11),m.jc("disabled",e.btnLoading||!e.agentForm.valid),m.Ab(1),m.jc("ngIf",e.btnLoading),m.Ab(13),m.jc("formGroup",e.resultForm),m.Ab(19),m.jc("disabled",e.btnLoading),m.Ab(1),m.jc("ngIf",e.btnLoading),m.Ab(13),m.jc("formGroup",e.productForm),m.Ab(19),m.jc("disabled",e.btnLoading||!e.productForm.valid),m.Ab(1),m.jc("ngIf",e.btnLoading))},directives:[h.a,n.j,l.t,l.j,l.e,l.b,l.i,l.d,l.q,l.p,l.m,l.u,n.k],encapsulation:2}),rt),data:{roles:"MANAGER",title:"Retailer Details"}}]}],bt=((st=function t(){i(this,t)}).\u0275fac=function(t){return new(t||st)},st.\u0275mod=m.Kb({type:st}),st.\u0275inj=m.Jb({imports:[[b.g.forChild(dt)],b.g]}),st),ct=((lt=function t(){i(this,t)}).\u0275fac=function(t){return new(t||lt)},lt.\u0275mod=m.Kb({type:lt}),lt.\u0275inj=m.Jb({imports:[[n.c,d.a,l.o,p.b.withComponents([]),bt,s.c.forRoot(),h.b.forRoot(),l.f]]}),lt)}}])}();