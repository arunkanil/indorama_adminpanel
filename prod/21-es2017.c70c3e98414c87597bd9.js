(window.webpackJsonp=window.webpackJsonp||[]).push([[21],{d3Ph:function(t,e,i){"use strict";i.r(e),i.d(e,"RetailersModule",function(){return ot});var a=i("SVse"),s=i("s7LF"),o=i("FE24"),r=i("2ZVE"),l=i("iInd"),d=i("R7Hv"),n=i("7nfi"),b=i("1qmy"),c=i("8Y7J"),u=i("EApP"),g=i("YFAK"),m=i("LqlI");const h=["commentModal"],v=["detailsModal"];function p(t,e){if(1&t){const t=c.Tb();c.Sb(0,"ul",56),c.Sb(1,"li",57),c.Sb(2,"a",58),c.Zb("click",function(){return c.vc(t),c.cc().toggleCropPrices("All")}),c.Dc(3,"All"),c.Rb(),c.Sb(4,"a",58),c.Zb("click",function(){return c.vc(t),c.cc().toggleCropPrices("Approved")}),c.Dc(5,"Approved"),c.Rb(),c.Sb(6,"a",58),c.Zb("click",function(){return c.vc(t),c.cc().toggleCropPrices("Approvalpending")}),c.Dc(7,"Approval pending"),c.Rb(),c.Sb(8,"a",58),c.Zb("click",function(){return c.vc(t),c.cc().toggleCropPrices("Rejected")}),c.Dc(9,"Rejected"),c.Rb(),c.Rb(),c.Rb()}}function f(t,e){1&t&&(c.Sb(0,"div"),c.Dc(1," Name is required. "),c.Rb())}function R(t,e){if(1&t&&(c.Sb(0,"div",59),c.Bc(1,f,2,0,"div",60),c.Rb()),2&t){const t=c.cc();c.Ab(1),c.jc("ngIf",t.f.Name.errors.required)}}function S(t,e){1&t&&(c.Sb(0,"div"),c.Dc(1," Username is required. "),c.Rb())}function A(t,e){1&t&&(c.Sb(0,"div"),c.Dc(1," Username should have minimum 3 characters. "),c.Rb())}function D(t,e){1&t&&(c.Sb(0,"div"),c.Dc(1," Username cannot contain space. "),c.Rb())}function C(t,e){if(1&t&&(c.Sb(0,"div",59),c.Bc(1,S,2,0,"div",60),c.Bc(2,A,2,0,"div",60),c.Bc(3,D,2,0,"div",60),c.Rb()),2&t){const t=c.cc();c.Ab(1),c.jc("ngIf",t.f.username.errors.required),c.Ab(1),c.jc("ngIf",t.f.username.errors.minlength),c.Ab(1),c.jc("ngIf",t.f.username.errors.cannotContainSpace)}}function N(t,e){1&t&&(c.Sb(0,"div"),c.Dc(1," Password is required. "),c.Rb())}function L(t,e){if(1&t&&(c.Sb(0,"div",59),c.Bc(1,N,2,0,"div",60),c.Rb()),2&t){const t=c.cc();c.Ab(1),c.jc("ngIf",t.f.password.errors.required)}}function y(t,e){1&t&&(c.Sb(0,"div"),c.Dc(1," Contact number is required. "),c.Rb())}function w(t,e){if(1&t&&(c.Sb(0,"div",59),c.Bc(1,y,2,0,"div",60),c.Rb()),2&t){const t=c.cc();c.Ab(1),c.jc("ngIf",t.f.ContactNumber.errors.required)}}function F(t,e){if(1&t&&(c.Sb(0,"option",61),c.Dc(1),c.Rb()),2&t){const t=e.$implicit;c.kc("value",t.id),c.Ab(1),c.Fc(" ",t.attributes.Name," ")}}function k(t,e){1&t&&(c.Sb(0,"div"),c.Dc(1," State is required. "),c.Rb())}function M(t,e){if(1&t&&(c.Sb(0,"div",59),c.Bc(1,k,2,0,"div",60),c.Rb()),2&t){const t=c.cc();c.Ab(1),c.jc("ngIf",t.f.state.errors.required)}}function j(t,e){if(1&t&&(c.Sb(0,"option",61),c.Dc(1),c.Rb()),2&t){const t=e.$implicit;c.kc("value",t.id),c.Ab(1),c.Fc(" ",t.attributes.Name," ")}}function q(t,e){1&t&&(c.Sb(0,"div"),c.Dc(1," LGA is required. "),c.Rb())}function P(t,e){if(1&t&&(c.Sb(0,"div",59),c.Bc(1,q,2,0,"div",60),c.Rb()),2&t){const t=c.cc();c.Ab(1),c.jc("ngIf",t.f.lga.errors.required)}}function I(t,e){if(1&t&&(c.Sb(0,"option",61),c.Dc(1),c.Rb()),2&t){const t=e.$implicit;c.kc("value",t.id),c.Ab(1),c.Fc(" ",t.attributes.Name," ")}}function B(t,e){1&t&&(c.Sb(0,"div"),c.Dc(1," Village is required. "),c.Rb())}function G(t,e){if(1&t&&(c.Sb(0,"div",59),c.Bc(1,B,2,0,"div",60),c.Rb()),2&t){const t=c.cc();c.Ab(1),c.jc("ngIf",t.f.village.errors.required)}}function x(t,e){1&t&&(c.Sb(0,"div"),c.Dc(1," Gender is required. "),c.Rb())}function U(t,e){if(1&t&&(c.Sb(0,"div",59),c.Bc(1,x,2,0,"div",60),c.Rb()),2&t){const t=c.cc();c.Ab(1),c.jc("ngIf",t.f.Gender.errors.required)}}function Z(t,e){1&t&&(c.Sb(0,"div"),c.Dc(1," Age is required. "),c.Rb())}function _(t,e){if(1&t&&(c.Sb(0,"div",59),c.Bc(1,Z,2,0,"div",60),c.Rb()),2&t){const t=c.cc();c.Ab(1),c.jc("ngIf",t.f.Age.errors.required)}}function E(t,e){1&t&&c.Nb(0,"span",62)}let V=(()=>{class t{constructor(t,e,i,a){this.dataservice=t,this.router=e,this.fb=i,this.toastr=a,this.loading=!0,this.btnLoading=!1,this.confirmed=void 0,this.blocked=void 0,this.disableNextButton=!1,this.disablePrevButton=!0,this.selectedList="All",this.pageSize=20,this.from=1,this.to=20,this.count=1,this.columnDefs=[],this.rowData=[],this.Villages=[],this.LGA=[],this.Areas=[],this.States=[],this.selectedYear=(new Date).getFullYear(),this.years=[],this.filter={},this.columnDefs=[...n.k],this.setForm(),this.rowSelection="single"}ngOnInit(){this.loading=!0,console.log(this.router),this.getRetailers(),this.getAreas(),this.getLGAs(),this.getStates(),this.getVillages()}getStates(){this.dataservice.getStates().valueChanges.subscribe(t=>{console.log("getStates",t.data.states.data),this.States=t.data.states.data})}setForm(){this.commentForm=this.fb.group({UserType:["Retailer"],username:["",[s.s.required,s.s.minLength(4),b.a.cannotContainSpace]],email:["nodata@email.com"],password:["",s.s.required],Name:["",s.s.required],Gender:["",s.s.required],Age:["",s.s.required],ContactNumber:["",s.s.required],lga:["",s.s.required],village:["",s.s.required],state:[""]})}get f(){return this.commentForm.controls}getLGAs(t){this.dataservice.getLGAs(t).valueChanges.subscribe(t=>{console.log("getLGAs",t.data.lgas.data),this.LGA=t.data.lgas.data})}getAreas(t){this.dataservice.getAreas(t).valueChanges.subscribe(t=>{console.log("getAreas",t.data.areas.data),this.Areas=t.data.areas.data})}getVillages(t){this.dataservice.getVillages(t).valueChanges.subscribe(t=>{console.log("getVillages",t.data.villages.data),this.Villages=t.data.villages.data})}getRetailers(){this.dataservice.getRetailers(1,this.pageSize,this.confirmed,this.blocked).valueChanges.subscribe(t=>{var e,i,a,s,o,r;this.rowData=t.data.usersPermissionsUsers.data,this.meta=t.data.usersPermissionsUsers.meta,(null===(i=null===(e=this.meta)||void 0===e?void 0:e.pagination)||void 0===i?void 0:i.pageCount)<=1&&(this.disablePrevButton=!0,this.disableNextButton=!0),(null===(s=null===(a=this.meta)||void 0===a?void 0:a.pagination)||void 0===s?void 0:s.total)<this.pageSize&&(this.to=null===(r=null===(o=this.meta)||void 0===o?void 0:o.pagination)||void 0===r?void 0:r.total)})}loadNext(){var t,e,i,a;this.count++,this.disablePrevButton=!1,this.from=this.from+this.pageSize,this.to=this.to+this.pageSize>(null===(e=null===(t=this.meta)||void 0===t?void 0:t.pagination)||void 0===e?void 0:e.total)?null===(a=null===(i=this.meta)||void 0===i?void 0:i.pagination)||void 0===a?void 0:a.total:this.to+this.pageSize,this.count===this.meta.pagination.pageCount&&(this.disableNextButton=!0),this.dataservice.getRetailers(this.count,this.pageSize).valueChanges.subscribe(t=>{this.meta=t.data.usersPermissionsUsers.meta,this.rowData=t.data.usersPermissionsUsers.data})}loadPrev(){this.count--,this.count<this.meta.pagination.pageCount&&(this.disableNextButton=!1),1===this.count&&(this.disablePrevButton=!0),this.from=this.from-this.pageSize,this.to=this.to-this.rowData.length,this.dataservice.getRetailers(this.count,this.pageSize).valueChanges.subscribe(t=>{this.meta=t.data.usersPermissionsUsers.meta,this.rowData=t.data.usersPermissionsUsers.data})}filterLGA(t){this.getLGAs(t.target.value)}filterVillage(t){this.getVillages(t.target.value)}onGridReady(t){this.gridApi=t.api,this.gridColumnApi=t.columnApi,this.gridApi.sizeColumnsToFit()}onRowClicked(t){console.log("row",t.data)}toggleCropPrices(t){switch(t){case"Rejected":this.selectedList="Rejected",this.blocked=!0,this.confirmed=void 0,this.getRetailers();break;case"Approvalpending":this.selectedList="Pending",this.blocked=!1,this.confirmed=!1,this.getRetailers();break;case"Approved":this.selectedList="Approved",this.blocked=!1,this.confirmed=!0,this.getRetailers();break;case"All":this.selectedList="All",this.blocked=void 0,this.confirmed=void 0,this.getRetailers()}}onSelectionChanged(t){var e=this.gridApi.getSelectedRows();console.log(e,t),this.router.navigate(["/retailers/retailer_details",e[0].id],{state:{data:e}})}openModal(t){this.detailsModal.show()}formSubmit(){console.log(this.commentForm.value),this.btnLoading=!0;let t={};this.dataservice.createRetailer(this.commentForm.value).subscribe(e=>{t=e,console.log("response",e),e?(this.toastr.success("Retailer added successfully!"),this.btnLoading=!1,this.commentModal.hide(),this.setForm(),this.getRetailers()):(this.toastr.error("Failed. Please check the fields!"),this.btnLoading=!1)},t=>{this.btnLoading=!1})}}return t.\u0275fac=function(e){return new(e||t)(c.Mb(d.a),c.Mb(l.c),c.Mb(s.c),c.Mb(u.b))},t.\u0275cmp=c.Gb({type:t,selectors:[["ng-component"]],viewQuery:function(t,e){if(1&t&&(c.Ic(h,1),c.Ic(v,1)),2&t){let t;c.rc(t=c.ac())&&(e.commentModal=t.first),c.rc(t=c.ac())&&(e.detailsModal=t.first)}},decls:118,vars:26,consts:[[1,"animated","fadeIn"],[1,"card"],[1,"card-header",2,"display","flex","justify-content","space-between"],["type","button","data-toggle","modal",1,"btn","btn-primary",3,"click"],[1,"card-body"],[1,"row"],[1,"col-12"],["dropdown","",1,"btn-group","float-right","mb-3"],["dropdownToggle","","type","button",1,"btn","btn-primary","dropdown-toggle"],[1,"caret"],["class","dropdown-menu","role","menu",4,"dropdownMenu"],["id","myGrid","animateRows","true",1,"ag-theme-alpine",2,"width","100%","height","65vh",3,"columnDefs","rowData","rowSelection","gridReady","selectionChanged"],["agGrid",""],[1,"float-left","mt-3"],["type","button",1,"btn","btn-primary","float-right","m-2",3,"disabled","click"],[1,"float-right","mt-3"],["bsModal","","tabindex","-1","role","dialog","aria-labelledby","myModalLabel","aria-hidden","true",1,"modal","fade"],["commentModal","bs-modal"],["role","document",1,"modal-dialog","modal-dialog-centered"],[1,"modal-content"],[1,"modal-header"],[1,"modal-title"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],[3,"formGroup","ngSubmit"],[1,"col"],[1,"form-group"],["for","Name"],["type","text","id","Name","name","Name","formControlName","Name","placeholder","Enter  Name",1,"form-control"],["class","text-danger",4,"ngIf"],["for","username"],["type","text","id","username","name","username","formControlName","username","placeholder","Enter username",1,"form-control"],["for","password"],["type","password","id","password","name","password","formControlName","password","placeholder","Enter password",1,"form-control"],["for","ContactNumber"],["type","text","id","ContactNumber","name","ContactNumber","formControlName","ContactNumber","placeholder","Enter contact number",1,"form-control"],["for","state"],["id","state","required","","ngModel","","name","state","formControlName","state",1,"form-control",3,"change"],["value","","disabled","","selected","","hidden",""],[3,"value",4,"ngFor","ngForOf"],["for","lga"],["id","lga","required","","ngModel","","name","lga","formControlName","lga",1,"form-control",3,"change"],["for","village"],["id","village","required","","ngModel","","name","village","formControlName","village",1,"form-control"],["for","Gender"],["id","Gender","required","","ngModel","","name","Gender","formControlName","Gender",1,"form-control"],["value","Male"],["value","Female"],["for","Age"],["type","text","id","Age","name","Age","formControlName","Age","placeholder","Enter age",1,"form-control"],["type","button",1,"btn","btn-secondary",3,"click"],["type","submit",1,"btn","btn-primary","ml-2",3,"disabled"],["class","spinner-border spinner-border-sm","role","status","aria-hidden","true",4,"ngIf"],["bsModal","","tabindex","-1","role","dialog","aria-hidden","true",1,"modal","fade"],["detailsModal","bs-modal"],["role","menu",1,"dropdown-menu"],["role","menuitem"],[1,"dropdown-item",3,"click"],[1,"text-danger"],[4,"ngIf"],[3,"value"],["role","status","aria-hidden","true",1,"spinner-border","spinner-border-sm"]],template:function(t,e){if(1&t){const t=c.Tb();c.Sb(0,"div",0),c.Sb(1,"div",1),c.Sb(2,"div",2),c.Sb(3,"h2"),c.Dc(4,"Retailers"),c.Rb(),c.Sb(5,"button",3),c.Zb("click",function(){return c.vc(t),c.sc(28).show()}),c.Dc(6," Add New Retailer "),c.Rb(),c.Rb(),c.Sb(7,"div",4),c.Sb(8,"div",5),c.Sb(9,"div",6),c.Sb(10,"div",7),c.Sb(11,"button",8),c.Dc(12),c.Nb(13,"span",9),c.Rb(),c.Bc(14,p,10,0,"ul",10),c.Rb(),c.Rb(),c.Rb(),c.Sb(15,"div",5),c.Sb(16,"div",6),c.Sb(17,"ag-grid-angular",11,12),c.Zb("gridReady",function(t){return e.onGridReady(t)})("selectionChanged",function(t){return e.onSelectionChanged(t)}),c.Rb(),c.Sb(19,"span",13),c.Dc(20),c.Rb(),c.Sb(21,"button",14),c.Zb("click",function(){return e.loadNext()}),c.Dc(22," Next "),c.Rb(),c.Sb(23,"span",15),c.Dc(24),c.Rb(),c.Sb(25,"button",14),c.Zb("click",function(){return e.loadPrev()}),c.Dc(26," Prev "),c.Rb(),c.Rb(),c.Rb(),c.Rb(),c.Rb(),c.Rb(),c.Sb(27,"div",16,17),c.Sb(29,"div",18),c.Sb(30,"div",19),c.Sb(31,"div",20),c.Sb(32,"h4",21),c.Dc(33,"Add Retailer"),c.Rb(),c.Sb(34,"button",22),c.Zb("click",function(){return c.vc(t),c.sc(28).hide()}),c.Sb(35,"span",23),c.Dc(36,"\xd7"),c.Rb(),c.Rb(),c.Rb(),c.Sb(37,"div",24),c.Sb(38,"form",25),c.Zb("ngSubmit",function(){return e.formSubmit()}),c.Sb(39,"div",5),c.Sb(40,"div",26),c.Sb(41,"div",27),c.Sb(42,"label",28),c.Dc(43,"Name"),c.Rb(),c.Nb(44,"input",29),c.Bc(45,R,2,1,"div",30),c.Rb(),c.Sb(46,"div",27),c.Sb(47,"label",31),c.Dc(48,"Username"),c.Rb(),c.Nb(49,"input",32),c.Bc(50,C,4,3,"div",30),c.Rb(),c.Sb(51,"div",27),c.Sb(52,"label",33),c.Dc(53,"Password"),c.Rb(),c.Nb(54,"input",34),c.Bc(55,L,2,1,"div",30),c.Rb(),c.Sb(56,"div",27),c.Sb(57,"label",35),c.Dc(58,"Contact number"),c.Rb(),c.Nb(59,"input",36),c.Bc(60,w,2,1,"div",30),c.Rb(),c.Rb(),c.Sb(61,"div",26),c.Sb(62,"div",27),c.Sb(63,"label",37),c.Dc(64,"State"),c.Rb(),c.Sb(65,"select",38),c.Zb("change",function(t){return e.filterLGA(t)}),c.Sb(66,"option",39),c.Dc(67,"Choose..."),c.Rb(),c.Bc(68,F,2,2,"option",40),c.Rb(),c.Bc(69,M,2,1,"div",30),c.Rb(),c.Sb(70,"div",27),c.Sb(71,"label",41),c.Dc(72,"LGA"),c.Rb(),c.Sb(73,"select",42),c.Zb("change",function(t){return e.filterVillage(t)}),c.Sb(74,"option",39),c.Dc(75,"Choose..."),c.Rb(),c.Bc(76,j,2,2,"option",40),c.Rb(),c.Bc(77,P,2,1,"div",30),c.Rb(),c.Sb(78,"div",27),c.Sb(79,"label",43),c.Dc(80,"Village"),c.Rb(),c.Sb(81,"select",44),c.Sb(82,"option",39),c.Dc(83,"Choose..."),c.Rb(),c.Bc(84,I,2,2,"option",40),c.Rb(),c.Bc(85,G,2,1,"div",30),c.Rb(),c.Sb(86,"div",27),c.Sb(87,"label",45),c.Dc(88,"Gender"),c.Rb(),c.Sb(89,"select",46),c.Sb(90,"option",39),c.Dc(91,"Choose..."),c.Rb(),c.Sb(92,"option",47),c.Dc(93,"Male"),c.Rb(),c.Sb(94,"option",48),c.Dc(95,"Female"),c.Rb(),c.Rb(),c.Bc(96,U,2,1,"div",30),c.Rb(),c.Sb(97,"div",27),c.Sb(98,"label",49),c.Dc(99,"Age"),c.Rb(),c.Nb(100,"input",50),c.Bc(101,_,2,1,"div",30),c.Rb(),c.Rb(),c.Rb(),c.Sb(102,"button",51),c.Zb("click",function(){return c.vc(t),c.sc(28).hide()}),c.Dc(103," Close "),c.Rb(),c.Sb(104,"button",52),c.Bc(105,E,1,0,"span",53),c.Dc(106," Save changes "),c.Rb(),c.Rb(),c.Rb(),c.Rb(),c.Rb(),c.Rb(),c.Sb(107,"div",54,55),c.Sb(109,"div",18),c.Sb(110,"div",19),c.Sb(111,"div",20),c.Sb(112,"h4",21),c.Dc(113,"History"),c.Rb(),c.Sb(114,"button",22),c.Zb("click",function(){return c.vc(t),c.sc(108).hide()}),c.Sb(115,"span",23),c.Dc(116,"\xd7"),c.Rb(),c.Rb(),c.Rb(),c.Nb(117,"div",24),c.Rb(),c.Rb(),c.Rb()}2&t&&(c.Ab(12),c.Fc(" ",e.selectedList,""),c.Ab(5),c.jc("columnDefs",e.columnDefs)("rowData",e.rowData)("rowSelection",e.rowSelection),c.Ab(3),c.Hc("",e.from," to ",e.to," of ",null==e.meta||null==e.meta.pagination?null:e.meta.pagination.total,""),c.Ab(1),c.jc("disabled",e.disableNextButton),c.Ab(3),c.Gc("Page ",null==e.meta||null==e.meta.pagination?null:e.meta.pagination.page," of ",null==e.meta||null==e.meta.pagination?null:e.meta.pagination.pageCount,""),c.Ab(1),c.jc("disabled",e.disablePrevButton),c.Ab(13),c.jc("formGroup",e.commentForm),c.Ab(7),c.jc("ngIf",e.f.Name.touched&&e.f.Name.invalid),c.Ab(5),c.jc("ngIf",e.f.username.touched&&e.f.username.invalid),c.Ab(5),c.jc("ngIf",e.f.password.touched&&e.f.password.invalid),c.Ab(5),c.jc("ngIf",e.f.ContactNumber.touched&&e.f.ContactNumber.invalid),c.Ab(8),c.jc("ngForOf",e.States),c.Ab(1),c.jc("ngIf",e.f.state.touched&&e.f.state.invalid),c.Ab(7),c.jc("ngForOf",e.LGA),c.Ab(1),c.jc("ngIf",e.f.lga.touched&&e.f.lga.invalid),c.Ab(7),c.jc("ngForOf",e.Villages),c.Ab(1),c.jc("ngIf",e.f.village.touched&&e.f.village.invalid),c.Ab(11),c.jc("ngIf",e.f.Gender.touched&&e.f.Gender.invalid),c.Ab(5),c.jc("ngIf",e.f.Age.touched&&e.f.Age.invalid),c.Ab(3),c.jc("disabled",e.btnLoading||!e.commentForm.valid),c.Ab(1),c.jc("ngIf",e.btnLoading))},directives:[o.a,o.d,o.b,g.a,m.a,s.t,s.j,s.e,s.b,s.i,s.d,a.k,s.q,s.p,s.m,s.u,a.j],encapsulation:2}),t})();var T=i("AytR");const O=["myModal"],$=["resultModal"],z=["deleteModal"],J=["addProductModal"],Y=["approveModal"];function K(t,e){if(1&t){const t=c.Tb();c.Sb(0,"div",72),c.Sb(1,"div",10),c.Sb(2,"a",20),c.Nb(3,"img",73),c.Rb(),c.Sb(4,"div",15),c.Sb(5,"div",18),c.Sb(6,"h5",74),c.Dc(7),c.Rb(),c.Rb(),c.Sb(8,"p",75),c.Dc(9),c.Rb(),c.Sb(10,"button",13),c.Zb("click",function(){c.vc(t);const i=e.$implicit;return c.cc().openModal(i,"edit")}),c.Dc(11," Edit "),c.Rb(),c.Sb(12,"button",76),c.Zb("click",function(){c.vc(t);const i=e.$implicit;return c.cc().openDeleteModal(i)}),c.Dc(13," Delete "),c.Rb(),c.Rb(),c.Rb(),c.Rb()}if(2&t){const t=e.$implicit,i=c.cc();c.Ab(2),c.kc("href",i.imgUrl(null==t||null==t.attributes||null==t.attributes.Images||null==t.attributes.Images.data[0]||null==t.attributes.Images.data[0].attributes?null:t.attributes.Images.data[0].attributes.url),c.xc),c.Ab(1),c.kc("src",i.imgUrl(null==t||null==t.attributes||null==t.attributes.Images||null==t.attributes.Images.data[0]||null==t.attributes.Images.data[0].attributes?null:t.attributes.Images.data[0].attributes.url),c.xc),c.Ab(4),c.Fc(" Item : ",null==t||null==t.attributes?null:t.attributes.ItemName," "),c.Ab(2),c.Gc(" Price : ",null==t||null==t.attributes?null:t.attributes.Price," per ",null==t||null==t.attributes?null:t.attributes.Unit," ")}}function H(t,e){if(1&t&&(c.Sb(0,"option",77),c.Dc(1),c.Rb()),2&t){const t=e.$implicit;c.kc("value",t.id),c.Ab(1),c.Fc(" ",t.attributes.CategoryName," ")}}function Q(t,e){if(1&t&&(c.Sb(0,"option",77),c.Dc(1),c.Rb()),2&t){const t=e.$implicit;c.kc("value",t.id),c.Ab(1),c.Fc(" ",t.attributes.Name," ")}}function W(t,e){if(1&t&&(c.Sb(0,"option",77),c.Dc(1),c.Rb()),2&t){const t=e.$implicit;c.kc("value",t.id),c.Ab(1),c.Fc(" ",t.attributes.Name," ")}}function X(t,e){if(1&t&&(c.Sb(0,"option",77),c.Dc(1),c.Rb()),2&t){const t=e.$implicit;c.kc("value",t.id),c.Ab(1),c.Fc(" ",t.attributes.Name," ")}}function tt(t,e){1&t&&c.Nb(0,"span",78)}function et(t,e){1&t&&c.Nb(0,"span",78)}function it(t,e){1&t&&c.Nb(0,"span",78)}const at=[{path:"",children:[{path:"",redirectTo:"retailers"},{path:"all",component:V,data:{roles:"KP_CALLER",title:"Retailers"}},{path:"retailer_details/:id",component:(()=>{class t{constructor(t,e,i,a,o){this.dataservice=t,this.activatedRouter=e,this.router=i,this.fb=a,this.toastr=o,this.baseURL=T.a.apiUrl,this.loading=!0,this.btnText="Approve / Reject",this.disableButton=!0,this.details=[],this.btnLoading=!1,this.dateConverter=n.r,this.users=[],this.Villages=[],this.LGA=[],this.Areas=[],this.Retailers=[],this.Farmers=[],this.States=[],this.Crops=[],this.file=null,this.agentForm=this.fb.group({ContactNumber:["",s.s.required],Name:["",s.s.required],password:[""],Farmer:["",s.s.required],retailer_categories:["",s.s.required],Bio:["",s.s.required],state:["",s.s.required],village:["",s.s.required],lga:["",s.s.required],Latitude:["",s.s.required],Longitude:["",s.s.required]}),this.resultForm=this.fb.group({id:[""],itemName:["",s.s.required],price:["",s.s.required],unit:["",s.s.required]}),this.productForm=this.fb.group({Image:["",s.s.required],itemName:["",s.s.required],price:["",s.s.required],unit:["",s.s.required]})}ngOnInit(){this.getLists(),this.getAreas(),this.getCrops(),this.getLGAs(),this.getStates(),this.getVillages(),this.getFarmers(),this.getRetailers(),this.activatedRouter.params.subscribe(t=>{this.id=t.id}),this.getTest()}imgUrl(t){return`${T.a.apiUrl}`+t}getTest(){this.dataservice.getsingleRetailer(this.id).valueChanges.subscribe(t=>{var e,i,a,o,r,l,d,n,b,c,u,g,m,h,v,p,f,R,S,A,D,C,N,L,y,w,F,k,M,j;if(console.log("getsingleRetailer",t.data.usersPermissionsUsers.data[0]),this.details=t.data.usersPermissionsUsers.data[0],this.agentForm=this.fb.group({ContactNumber:[null===(e=this.details.attributes)||void 0===e?void 0:e.ContactNumber,s.s.required],Name:[null===(i=this.details.attributes)||void 0===i?void 0:i.Name,s.s.required],Bio:[null===(a=this.details.attributes)||void 0===a?void 0:a.Bio,s.s.required],Latitude:[null===(o=this.details.attributes)||void 0===o?void 0:o.Latitude,s.s.required],Longitude:[null===(r=this.details.attributes)||void 0===r?void 0:r.Longitude,s.s.required],state:[null===(g=null===(u=null===(c=null===(b=null===(n=null===(d=null===(l=this.details)||void 0===l?void 0:l.attributes)||void 0===d?void 0:d.lga)||void 0===n?void 0:n.data)||void 0===b?void 0:b.attributes)||void 0===c?void 0:c.state)||void 0===u?void 0:u.data)||void 0===g?void 0:g.id,s.s.required],password:[""],lga:[null===(p=null===(v=null===(h=null===(m=this.details)||void 0===m?void 0:m.attributes)||void 0===h?void 0:h.lga)||void 0===v?void 0:v.data)||void 0===p?void 0:p.id,s.s.required],village:[null===(A=null===(S=null===(R=null===(f=this.details)||void 0===f?void 0:f.attributes)||void 0===R?void 0:R.village)||void 0===S?void 0:S.data)||void 0===A?void 0:A.id,s.s.required],retailer_categories:[null===(L=null===(N=null===(C=null===(D=this.details)||void 0===D?void 0:D.attributes)||void 0===C?void 0:C.retailer_categories)||void 0===N?void 0:N.data[0])||void 0===L?void 0:L.id,s.s.required]}),!0===(null===(w=null===(y=this.details)||void 0===y?void 0:y.attributes)||void 0===w?void 0:w.blocked))this.disableButton=!0,this.btnText="Rejected";else if(!0===(null===(k=null===(F=this.details)||void 0===F?void 0:F.attributes)||void 0===k?void 0:k.confirmed))this.disableButton=!0,this.btnText="Approved";else if(!1===(null===(j=null===(M=this.details)||void 0===M?void 0:M.attributes)||void 0===j?void 0:j.confirmed))return this.disableButton=!1;this.loading=!1})}getCrops(){this.dataservice.getCrops().valueChanges.subscribe(t=>{console.log("getCrops",t.data.crops.data),this.Crops=t.data.crops.data})}getStates(){this.dataservice.getStates().valueChanges.subscribe(t=>{console.log("getStates",t.data.states.data),this.States=t.data.states.data})}getLGAs(t){this.dataservice.getLGAs(t).valueChanges.subscribe(t=>{console.log("getLGAs",t.data.lgas.data),this.LGA=t.data.lgas.data})}getAreas(t){this.dataservice.getAreas(t).valueChanges.subscribe(t=>{console.log("getAreas",t.data.areas.data),this.Areas=t.data.areas.data})}getRetailers(){this.dataservice.getRetailerCategories().valueChanges.subscribe(t=>{console.log("getRetailers",t.data.retailerCategories.data),this.Retailers=t.data.retailerCategories.data})}getFarmers(){this.dataservice.getUsers(void 0,void 0,"Farmer").valueChanges.subscribe(t=>{console.log("getFarmers",t.data.usersPermissionsUsers.data),this.Farmers=t.data.usersPermissionsUsers.data})}getVillages(t){this.dataservice.getVillages(t).valueChanges.subscribe(t=>{console.log("getVillages",t.data.villages.data),this.Villages=t.data.villages.data})}dateConvertor(t){return new Date(t)}getLists(){this.loading=!0}approveOrReject(t){let e={};e=t?{confirmed:!0,blocked:!1}:{confirmed:!1,blocked:!0},this.dataservice.UpdateRetailer(e,this.id).subscribe(t=>{console.log("response",t),t.data.updateUsersPermissionsUser?(this.toastr.success("Updated successfully!"),this.btnLoading=!1,this.approveModal.hide(),this.getTest()):(this.toastr.error("Something went wrong!"),this.btnLoading=!1)},t=>{this.btnLoading=!1})}openApproveModal(){this.approveModal.show()}openModal(t,e){var i,a,o;this.resultModal.show(),console.log(t,e),this.flag=e,this.resultForm=this.fb.group({id:[null==t?void 0:t.id],soil_test_sample:[null==t?void 0:t.id],itemName:[null===(i=null==t?void 0:t.attributes)||void 0===i?void 0:i.ItemName,s.s.required],price:[null===(a=null==t?void 0:t.attributes)||void 0===a?void 0:a.Price,s.s.required],unit:[null===(o=null==t?void 0:t.attributes)||void 0===o?void 0:o.Unit,s.s.required]})}openDeleteModal(t){this.deleteObj=t,this.deleteModal.show()}FormSubmit(){let t={};this.btnLoading=!0,console.log(this.agentForm.value),this.dataservice.UpdateRetailer(this.agentForm.value,this.id).subscribe(e=>{t=e.data,console.log("response",e),e.data.updateUsersPermissionsUser?(this.toastr.success("Retailer updated successfully!"),this.btnLoading=!1,this.myModal.hide(),this.getTest()):(this.toastr.error("Failed. Please check the fields!"),this.btnLoading=!1)},t=>{this.btnLoading=!1})}ResultSubmit(){var t,e,i,a;console.log("edit",this.resultForm.value),this.btnLoading=!0;let s={};console.log(this.resultForm.value),this.dataservice.UpdateRetailerProducts(this.resultForm.value,null===(a=null===(i=null===(e=null===(t=this.details)||void 0===t?void 0:t.attributes)||void 0===e?void 0:e.retailer_categories)||void 0===i?void 0:i.data[0])||void 0===a?void 0:a.id,this.id).subscribe(t=>{s=t.data,console.log("response",t),t.data.updateRetailerProduct?(this.toastr.success("Product updated successfully!"),this.btnLoading=!1,this.resultModal.hide(),this.getTest()):(this.toastr.error("Failed. Please check the fields!"),this.btnLoading=!1)},t=>{this.btnLoading=!1})}onChange(t){this.file=[];for(var e=0;e<t.target.files.length;e++)this.file.push(t.target.files[e]);console.log(this.file)}filterLGA(t){this.getLGAs(t.target.value)}filterVillage(t){this.getVillages(t.target.value)}uploadProfPic(){let t={};this.dataservice.upload(this.file).subscribe(e=>{var i;200==e.status?(console.log(e),this.dataservice.UpdateRetailerPic(this.id,null===(i=e.body[0])||void 0===i?void 0:i.id).subscribe(e=>{t=e.data,console.log("response",e),e.data.updateUsersPermissionsUser?(this.toastr.success("Success!"),this.file=null,this.getTest(),this.addProductModal.hide()):this.toastr.error("Failed!")})):this.toastr.error("Image failed to upload!")})}ProductSubmit(){let t={};this.btnLoading=!0,this.dataservice.upload(this.file).subscribe(e=>{var i,a,s,o,r;200==e.status?(console.log(e),this.dataservice.addRetailerProducts(this.productForm.value,null===(o=null===(s=null===(a=null===(i=this.details)||void 0===i?void 0:i.attributes)||void 0===a?void 0:a.retailer_categories)||void 0===s?void 0:s.data[0])||void 0===o?void 0:o.id,this.id,null===(r=e.body[0])||void 0===r?void 0:r.id).subscribe(e=>{t=e.data,console.log("response",e),e.data.createRetailerProduct?(this.toastr.success("Success!"),this.btnLoading=!1,this.file=null,this.getTest(),this.addProductModal.hide()):(this.toastr.error("Failed!"),this.btnLoading=!1)},t=>{this.btnLoading=!1})):(this.toastr.error("Image failed to upload!"),this.btnLoading=!1)})}deleteProduct(){this.dataservice.deleteProduct(this.deleteObj.id).subscribe(t=>{console.log("response",t),t.data.deleteRetailerProduct?(this.toastr.success("Success!"),this.deleteModal.hide(),this.getTest()):this.toastr.error("Failed!")})}}return t.\u0275fac=function(e){return new(e||t)(c.Mb(d.a),c.Mb(l.a),c.Mb(l.c),c.Mb(s.c),c.Mb(u.b))},t.\u0275cmp=c.Gb({type:t,selectors:[["ng-component"]],viewQuery:function(t,e){if(1&t&&(c.Ic(O,1),c.Ic($,1),c.Ic(z,1),c.Ic(J,1),c.Ic(Y,1)),2&t){let t;c.rc(t=c.ac())&&(e.myModal=t.first),c.rc(t=c.ac())&&(e.resultModal=t.first),c.rc(t=c.ac())&&(e.deleteModal=t.first),c.rc(t=c.ac())&&(e.addProductModal=t.first),c.rc(t=c.ac())&&(e.approveModal=t.first)}},decls:258,vars:32,consts:[[1,"animated","fadeIn"],["bsModal","","tabindex","-1","role","dialog","aria-labelledby","myModalLabel","aria-hidden","true",1,"modal","fade"],["deleteModal","bs-modal"],[1,"modal-dialog","modal-dialog-centered","modal-sm"],[1,"modal-content"],[1,"modal-body","text-center"],[1,"modal-footer","justify-content-around"],["type","button",1,"btn","btn-secondary",3,"click"],["type","button",1,"btn","btn-primary",3,"click"],["approveModal","bs-modal"],[1,"card"],[1,"card-header",2,"display","flex","justify-content","space-between"],["type","button","data-toggle","modal",1,"btn","btn-outline-primary",3,"click"],["type","button","data-toggle","modal",1,"btn","btn-primary",3,"click"],["type","button","data-toggle","modal",1,"btn","btn-warning",3,"click"],[1,"card-body"],[1,"row"],[1,"col"],[2,"display","flex","justify-content","space-between"],[1,"table","table-striped"],["target","_blank",3,"href"],["alt","Card image cap",1,"card-img-top",2,"width","150px","height","150px",3,"src"],["type","file","id","prof_pic","accept",".jpg,.jpeg,.JPEG,.png","name","prof_pic","placeholder","Choose image",1,"form-control",3,"change"],[2,"width","60%"],["class","col-4",4,"ngFor","ngForOf"],["myModal","bs-modal"],["role","document",1,"modal-dialog","modal-dialog-centered"],[1,"modal-header"],[1,"modal-title"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],[3,"formGroup","ngSubmit"],[1,"form-group"],["for","Name"],["type","text","id","Name","name","Name","formControlName","Name","placeholder","Enter Name",1,"form-control"],["for","market"],["type","text","id","ContactNumber","name","ContactNumber","formControlName","ContactNumber","placeholder","Enter contact number",1,"form-control"],["for","retailer_categories"],["id","retailer_categories","required","","ngModel","","name","retailer_categories","formControlName","retailer_categories",1,"form-control"],["value","","disabled","","selected","","hidden",""],[3,"value",4,"ngFor","ngForOf"],["for","Bio"],["id","Bio","name","Bio","formControlName","Bio","placeholder","Enter Bio",1,"form-control"],["for","password"],["type","password","id","password","name","password","formControlName","password","placeholder","Enter password",1,"form-control"],["for","state"],["id","state","required","","ngModel","","name","state","formControlName","state",1,"form-control",3,"change"],["for","lga"],["id","lga","required","","ngModel","","name","lga","formControlName","lga",1,"form-control",3,"change"],["for","village"],["id","village","required","","ngModel","","name","village","formControlName","village",1,"form-control"],["for","Latitude"],["type","text","id","Latitude","name","Latitude","formControlName","Latitude","placeholder","Enter Latitude",1,"form-control"],["for","Longitude"],["id","Longitude","required","","ngModel","","name","Longitude","formControlName","Longitude","placeholder","Enter Longitude",1,"form-control"],["type","submit",1,"btn","btn-primary","ml-2",3,"disabled"],["class","spinner-border spinner-border-sm","role","status","aria-hidden","true",4,"ngIf"],["bsModal","","tabindex","-1","role","dialog","aria-labelledby","resultModalLabel","aria-hidden","true",1,"modal","fade"],["resultModal","bs-modal"],["for","id"],["type","text","id","soil_test_sample","disabled","true","name","id","formControlName","id",1,"form-control"],["for","itemName"],["type","text","id","itemName","name","itemName","formControlName","itemName",1,"form-control"],["for","price"],["type","text","id","price","name","price","formControlName","price","placeholder","Enter value",1,"form-control"],["for","unit"],["type","text","id","unit","name","unit","formControlName","unit","placeholder","Enter value",1,"form-control"],["bsModal","","tabindex","-1","role","dialog","aria-labelledby","productModalLabel","aria-hidden","true",1,"modal","fade"],["addProductModal","bs-modal"],["for","Image"],["type","file","id","Image","accept",".jpg,.jpeg,.JPEG,.png","name","Image","formControlName","Image","placeholder","Choose image",1,"form-control",3,"change"],[1,"col-4"],["height","100","width","200","alt","Card image cap",1,"card-img-top",3,"src"],[1,"card-title"],[1,"card-text"],["type","button","data-toggle","modal",1,"btn","btn-danger",3,"click"],[3,"value"],["role","status","aria-hidden","true",1,"spinner-border","spinner-border-sm"]],template:function(t,e){if(1&t){const t=c.Tb();c.Sb(0,"div",0),c.Sb(1,"div",1,2),c.Sb(3,"div",3),c.Sb(4,"div",4),c.Sb(5,"div",5),c.Dc(6," Do you want to delete this record? "),c.Rb(),c.Sb(7,"div",6),c.Sb(8,"button",7),c.Zb("click",function(){return c.vc(t),c.sc(2).hide()}),c.Dc(9," No! Cancel. "),c.Rb(),c.Sb(10,"button",8),c.Zb("click",function(){return e.deleteProduct()}),c.Dc(11," Yes! Delete. "),c.Rb(),c.Rb(),c.Rb(),c.Rb(),c.Rb(),c.Sb(12,"div",1,9),c.Sb(14,"div",3),c.Sb(15,"div",4),c.Sb(16,"div",5),c.Dc(17," Do you want to approve this retailer? "),c.Rb(),c.Sb(18,"div",6),c.Sb(19,"button",7),c.Zb("click",function(){return e.approveOrReject(!1)}),c.Dc(20," No! Reject. "),c.Rb(),c.Sb(21,"button",8),c.Zb("click",function(){return e.approveOrReject(!0)}),c.Dc(22," Yes! Approve. "),c.Rb(),c.Rb(),c.Rb(),c.Rb(),c.Rb(),c.Sb(23,"div",10),c.Sb(24,"div",11),c.Sb(25,"h2"),c.Dc(26,"Retailer Details"),c.Rb(),c.Sb(27,"span"),c.Sb(28,"div"),c.Sb(29,"button",12),c.Zb("click",function(){return c.vc(t),c.sc(226).show()}),c.Dc(30," Add new product "),c.Rb(),c.Sb(31,"button",13),c.Zb("click",function(){return c.vc(t),c.sc(121).show()}),c.Dc(32," Edit "),c.Rb(),c.Sb(33,"button",14),c.Zb("click",function(){return e.openApproveModal()}),c.Dc(34),c.Rb(),c.Rb(),c.Rb(),c.Rb(),c.Sb(35,"div",15),c.Sb(36,"div",16),c.Sb(37,"div",17),c.Sb(38,"div",16),c.Sb(39,"div",18),c.Sb(40,"h4"),c.Dc(41,"Basic details"),c.Rb(),c.Rb(),c.Sb(42,"table",19),c.Sb(43,"tbody"),c.Sb(44,"tr"),c.Sb(45,"td"),c.Dc(46,"ID"),c.Rb(),c.Sb(47,"td"),c.Dc(48),c.Rb(),c.Rb(),c.Sb(49,"tr"),c.Sb(50,"td"),c.Dc(51,"Username"),c.Rb(),c.Sb(52,"td"),c.Dc(53),c.Rb(),c.Rb(),c.Sb(54,"tr"),c.Sb(55,"td"),c.Dc(56,"Profile pic"),c.Rb(),c.Sb(57,"td"),c.Sb(58,"a",20),c.Nb(59,"img",21),c.Rb(),c.Sb(60,"div",18),c.Sb(61,"input",22),c.Zb("change",function(t){return e.onChange(t)}),c.Rb(),c.Sb(62,"button",12),c.Zb("click",function(){return e.uploadProfPic()}),c.Dc(63," Upload "),c.Rb(),c.Rb(),c.Rb(),c.Rb(),c.Sb(64,"tr"),c.Sb(65,"td"),c.Dc(66,"Name"),c.Rb(),c.Sb(67,"td"),c.Dc(68),c.Rb(),c.Rb(),c.Sb(69,"tr"),c.Sb(70,"td"),c.Dc(71,"Contact number"),c.Rb(),c.Sb(72,"td"),c.Dc(73),c.Rb(),c.Rb(),c.Sb(74,"tr"),c.Sb(75,"td"),c.Dc(76,"Village"),c.Rb(),c.Sb(77,"td"),c.Dc(78),c.Rb(),c.Rb(),c.Sb(79,"tr"),c.Sb(80,"td"),c.Dc(81,"LGA"),c.Rb(),c.Sb(82,"td"),c.Dc(83),c.Rb(),c.Rb(),c.Sb(84,"tr"),c.Sb(85,"td"),c.Dc(86,"State"),c.Rb(),c.Sb(87,"td"),c.Dc(88),c.Rb(),c.Rb(),c.Sb(89,"tr"),c.Sb(90,"td"),c.Dc(91,"Retailer Category"),c.Rb(),c.Sb(92,"td"),c.Dc(93),c.Rb(),c.Rb(),c.Sb(94,"tr"),c.Sb(95,"td"),c.Dc(96,"Bio"),c.Rb(),c.Sb(97,"td",23),c.Dc(98),c.Rb(),c.Rb(),c.Sb(99,"tr"),c.Sb(100,"td"),c.Dc(101,"Location"),c.Rb(),c.Sb(102,"td"),c.Sb(103,"a",20),c.Dc(104,"Click here to view location"),c.Rb(),c.Rb(),c.Rb(),c.Sb(105,"tr"),c.Sb(106,"td"),c.Dc(107,"Created at"),c.Rb(),c.Sb(108,"td"),c.Dc(109),c.Rb(),c.Rb(),c.Sb(110,"tr"),c.Sb(111,"td"),c.Dc(112,"Last updated"),c.Rb(),c.Sb(113,"td"),c.Dc(114),c.Rb(),c.Rb(),c.Rb(),c.Rb(),c.Rb(),c.Rb(),c.Sb(115,"div",17),c.Sb(116,"h4"),c.Dc(117,"Products"),c.Rb(),c.Sb(118,"div",16),c.Bc(119,K,14,5,"div",24),c.Rb(),c.Rb(),c.Rb(),c.Sb(120,"div",1,25),c.Sb(122,"div",26),c.Sb(123,"div",4),c.Sb(124,"div",27),c.Sb(125,"h4",28),c.Dc(126,"Edit details"),c.Rb(),c.Sb(127,"button",29),c.Zb("click",function(){return c.vc(t),c.sc(121).hide()}),c.Sb(128,"span",30),c.Dc(129,"\xd7"),c.Rb(),c.Rb(),c.Rb(),c.Sb(130,"div",31),c.Sb(131,"form",32),c.Zb("ngSubmit",function(){return e.FormSubmit()}),c.Sb(132,"div",16),c.Sb(133,"div",17),c.Sb(134,"div",33),c.Sb(135,"label",34),c.Dc(136,"Name"),c.Rb(),c.Nb(137,"input",35),c.Rb(),c.Sb(138,"div",33),c.Sb(139,"label",36),c.Dc(140,"Contact Number"),c.Rb(),c.Nb(141,"input",37),c.Rb(),c.Sb(142,"div",33),c.Sb(143,"label",38),c.Dc(144,"Retailer category"),c.Rb(),c.Sb(145,"select",39),c.Sb(146,"option",40),c.Dc(147," Choose... "),c.Rb(),c.Bc(148,H,2,2,"option",41),c.Rb(),c.Rb(),c.Sb(149,"div",33),c.Sb(150,"label",42),c.Dc(151,"Bio"),c.Rb(),c.Nb(152,"textarea",43),c.Rb(),c.Sb(153,"div",33),c.Sb(154,"label",44),c.Dc(155,"Password"),c.Rb(),c.Nb(156,"input",45),c.Rb(),c.Rb(),c.Sb(157,"div",17),c.Sb(158,"div",33),c.Sb(159,"label",46),c.Dc(160,"State"),c.Rb(),c.Sb(161,"select",47),c.Zb("change",function(t){return e.filterLGA(t)}),c.Sb(162,"option",40),c.Dc(163," Choose... "),c.Rb(),c.Bc(164,Q,2,2,"option",41),c.Rb(),c.Rb(),c.Sb(165,"div",33),c.Sb(166,"label",48),c.Dc(167,"LGA"),c.Rb(),c.Sb(168,"select",49),c.Zb("change",function(t){return e.filterVillage(t)}),c.Sb(169,"option",40),c.Dc(170," Choose... "),c.Rb(),c.Bc(171,W,2,2,"option",41),c.Rb(),c.Rb(),c.Sb(172,"div",33),c.Sb(173,"label",50),c.Dc(174,"Village"),c.Rb(),c.Sb(175,"select",51),c.Sb(176,"option",40),c.Dc(177," Choose... "),c.Rb(),c.Bc(178,X,2,2,"option",41),c.Rb(),c.Rb(),c.Sb(179,"div",33),c.Sb(180,"label",52),c.Dc(181,"Latitude"),c.Rb(),c.Nb(182,"input",53),c.Rb(),c.Sb(183,"div",33),c.Sb(184,"label",54),c.Dc(185,"Longitude"),c.Rb(),c.Nb(186,"input",55),c.Rb(),c.Sb(187,"button",7),c.Zb("click",function(){return c.vc(t),c.sc(121).hide()}),c.Dc(188," Close "),c.Rb(),c.Sb(189,"button",56),c.Bc(190,tt,1,0,"span",57),c.Dc(191," Save changes "),c.Rb(),c.Rb(),c.Rb(),c.Rb(),c.Rb(),c.Rb(),c.Rb(),c.Rb(),c.Sb(192,"div",58,59),c.Sb(194,"div",26),c.Sb(195,"div",4),c.Sb(196,"div",27),c.Sb(197,"h4",28),c.Dc(198,"Edit product"),c.Rb(),c.Sb(199,"button",29),c.Zb("click",function(){return c.vc(t),c.sc(193).hide()}),c.Sb(200,"span",30),c.Dc(201,"\xd7"),c.Rb(),c.Rb(),c.Rb(),c.Sb(202,"div",31),c.Sb(203,"form",32),c.Zb("ngSubmit",function(){return e.ResultSubmit()}),c.Sb(204,"div",33),c.Sb(205,"label",60),c.Dc(206,"ID"),c.Rb(),c.Nb(207,"input",61),c.Rb(),c.Sb(208,"div",33),c.Sb(209,"label",62),c.Dc(210,"Item name"),c.Rb(),c.Nb(211,"input",63),c.Rb(),c.Sb(212,"div",33),c.Sb(213,"label",64),c.Dc(214,"Price"),c.Rb(),c.Nb(215,"input",65),c.Rb(),c.Sb(216,"div",33),c.Sb(217,"label",66),c.Dc(218,"Unit"),c.Rb(),c.Nb(219,"input",67),c.Rb(),c.Sb(220,"button",7),c.Zb("click",function(){return c.vc(t),c.sc(193).hide()}),c.Dc(221," Close "),c.Rb(),c.Sb(222,"button",56),c.Bc(223,et,1,0,"span",57),c.Dc(224," Save changes "),c.Rb(),c.Rb(),c.Rb(),c.Rb(),c.Rb(),c.Rb(),c.Sb(225,"div",68,69),c.Sb(227,"div",26),c.Sb(228,"div",4),c.Sb(229,"div",27),c.Sb(230,"h4",28),c.Dc(231,"Add product"),c.Rb(),c.Sb(232,"button",29),c.Zb("click",function(){return c.vc(t),c.sc(226).hide()}),c.Sb(233,"span",30),c.Dc(234,"\xd7"),c.Rb(),c.Rb(),c.Rb(),c.Sb(235,"div",31),c.Sb(236,"form",32),c.Zb("ngSubmit",function(){return e.ProductSubmit()}),c.Sb(237,"div",33),c.Sb(238,"label",62),c.Dc(239,"Item name"),c.Rb(),c.Nb(240,"input",63),c.Rb(),c.Sb(241,"div",33),c.Sb(242,"label",64),c.Dc(243,"Price"),c.Rb(),c.Nb(244,"input",65),c.Rb(),c.Sb(245,"div",33),c.Sb(246,"label",66),c.Dc(247,"Unit"),c.Rb(),c.Nb(248,"input",67),c.Rb(),c.Sb(249,"div",33),c.Sb(250,"label",70),c.Dc(251,"Image"),c.Rb(),c.Sb(252,"input",71),c.Zb("change",function(t){return e.onChange(t)}),c.Rb(),c.Rb(),c.Sb(253,"button",7),c.Zb("click",function(){return c.vc(t),c.sc(226).hide()}),c.Dc(254," Close "),c.Rb(),c.Sb(255,"button",56),c.Bc(256,it,1,0,"span",57),c.Dc(257," Save changes "),c.Rb(),c.Rb(),c.Rb(),c.Rb(),c.Rb(),c.Rb(),c.Rb(),c.Rb(),c.Rb()}2&t&&(c.Ab(34),c.Fc(" ",e.btnText," "),c.Ab(14),c.Ec(null==e.details?null:e.details.id),c.Ab(5),c.Ec(null==e.details||null==e.details.attributes?null:e.details.attributes.username),c.Ab(5),c.lc("href","",e.baseURL,"",null==e.details||null==e.details.attributes||null==e.details.attributes.prof_pic||null==e.details.attributes.prof_pic.data||null==e.details.attributes.prof_pic.data.attributes?null:e.details.attributes.prof_pic.data.attributes.url,"",c.xc),c.Ab(1),c.lc("src","",e.baseURL,"",null==e.details||null==e.details.attributes||null==e.details.attributes.prof_pic||null==e.details.attributes.prof_pic.data||null==e.details.attributes.prof_pic.data.attributes?null:e.details.attributes.prof_pic.data.attributes.url,"",c.xc),c.Ab(9),c.Fc(" ",null==e.details||null==e.details.attributes?null:e.details.attributes.Name," "),c.Ab(5),c.Ec(null==e.details||null==e.details.attributes?null:e.details.attributes.ContactNumber),c.Ab(5),c.Fc(" ",null==e.details||null==e.details.attributes||null==e.details.attributes.village||null==e.details.attributes.village.data||null==e.details.attributes.village.data.attributes?null:e.details.attributes.village.data.attributes.Name," "),c.Ab(5),c.Ec(null==e.details||null==e.details.attributes||null==e.details.attributes.lga||null==e.details.attributes.lga.data?null:e.details.attributes.lga.data.attributes.Name),c.Ab(5),c.Fc(" ",null==e.details||null==e.details.attributes||null==e.details.attributes.lga||null==e.details.attributes.lga.data||null==e.details.attributes.lga.data.attributes||null==e.details.attributes.lga.data.attributes.state||null==e.details.attributes.lga.data.attributes.state.data||null==e.details.attributes.lga.data.attributes.state.data.attributes?null:e.details.attributes.lga.data.attributes.state.data.attributes.Name," "),c.Ab(5),c.Fc(" ",null==e.details||null==e.details.attributes||null==e.details.attributes.retailer_categories||null==e.details.attributes.retailer_categories.data[0]||null==e.details.attributes.retailer_categories.data[0].attributes?null:e.details.attributes.retailer_categories.data[0].attributes.CategoryName," "),c.Ab(5),c.Ec(null==e.details||null==e.details.attributes?null:e.details.attributes.Bio),c.Ab(5),c.lc("href","https://www.google.com/maps/search/?api=1&query=",null==e.details.attributes?null:e.details.attributes.Latitude,"%2C",null==e.details.attributes?null:e.details.attributes.Longitude,"",c.xc),c.Ab(6),c.Ec(e.dateConvertor(null==e.details||null==e.details.attributes?null:e.details.attributes.createdAt)),c.Ab(5),c.Ec(e.dateConvertor(null==e.details||null==e.details.attributes?null:e.details.attributes.updatedAt)),c.Ab(5),c.jc("ngForOf",null==e.details||null==e.details.attributes||null==e.details.attributes.retailer_products?null:e.details.attributes.retailer_products.data),c.Ab(12),c.jc("formGroup",e.agentForm),c.Ab(17),c.jc("ngForOf",e.Retailers),c.Ab(16),c.jc("ngForOf",e.States),c.Ab(7),c.jc("ngForOf",e.LGA),c.Ab(7),c.jc("ngForOf",e.Villages),c.Ab(11),c.jc("disabled",e.btnLoading||!e.agentForm.valid),c.Ab(1),c.jc("ngIf",e.btnLoading),c.Ab(13),c.jc("formGroup",e.resultForm),c.Ab(19),c.jc("disabled",e.btnLoading),c.Ab(1),c.jc("ngIf",e.btnLoading),c.Ab(13),c.jc("formGroup",e.productForm),c.Ab(19),c.jc("disabled",e.btnLoading||!e.productForm.valid),c.Ab(1),c.jc("ngIf",e.btnLoading))},directives:[m.a,a.j,s.t,s.j,s.e,s.b,s.i,s.d,s.q,s.p,s.m,s.u,a.k],encapsulation:2}),t})(),data:{roles:"MANAGER",title:"Retailer Details"}}]}];let st=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=c.Kb({type:t}),t.\u0275inj=c.Jb({imports:[[l.g.forChild(at)],l.g]}),t})(),ot=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=c.Kb({type:t}),t.\u0275inj=c.Jb({imports:[[a.c,r.a,s.o,g.b.withComponents([]),st,o.c.forRoot(),m.b.forRoot(),s.f]]}),t})()}}]);